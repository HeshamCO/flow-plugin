<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Flow</title>
		<script type="module" crossorigin>var e,t,n,r,s,a,i,o,l,c,u,d,v,p,f,h,g,m,b,w,x,y,k,q,$,_,j,z,S,P,M,E,I,T,U,C,N,A,O,W,L,D,F,V,R,B,Y=Object.defineProperty,H=e=>{throw TypeError(e)},J=(e,t,n)=>((e,t,n)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),K=(e,t,n)=>t.has(e)||H("Cannot "+n),G=(e,t,n)=>(K(e,t,"read from private field"),n?n.call(e):t.get(e)),Z=(e,t,n)=>t.has(e)?H("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Q=(e,t,n,r)=>(K(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),X=(e,t,n)=>(K(e,t,"access private method"),n);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ee=!1;var te=Array.isArray,ne=Array.prototype.indexOf,re=Array.prototype.includes,se=Array.from,ae=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,oe=Object.getOwnPropertyDescriptors,le=Object.prototype,ce=Array.prototype,ue=Object.getPrototypeOf,de=Object.isExtensible;const ve=()=>{};function pe(e){return e()}function fe(e){for(var t=0;t<e.length;t++)e[t]()}function he(){var e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}const ge=16,me=32,be=64,we=512,xe=1024,ye=2048,ke=4096,qe=8192,$e=16384,_e=32768,je=65536,ze=1<<17,Se=1<<18,Pe=1<<19,Me=1<<25,Ee=32768,Ie=1<<21,Te=1<<23,Ue=Symbol("$state"),Ce=Symbol("legacy props"),Ne=Symbol(""),Ae=new class extends Error{constructor(){super(...arguments),J(this,"name","StaleReactionError"),J(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Oe(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const We=Symbol();function Le(e){return e===this.v}function De(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function Fe(e){return!De(e,this.v)}let Ve=!1;let Re=null;function Be(e){Re=e}function Ye(e,t=!1,n){Re={p:Re,i:!1,c:null,e:null,s:e,x:null,l:Ve&&!t?{s:null,u:null,$:[]}:null}}function He(e){var t=Re,n=t.e;if(null!==n)for(var r of(t.e=null,n))un(r);return t.i=!0,Re=t.p,{}}function Je(){return!Ve||null!==Re&&null===Re.l}let Ke=[];function Ge(){var e=Ke;Ke=[],fe(e)}function Ze(e){if(0===Ke.length&&!pt){var t=Ke;queueMicrotask(()=>{t===Ke&&Ge()})}Ke.push(e)}function Qe(){for(;Ke.length>0;)Ge()}function Xe(e){var t=Tn;if(null===t)return Mn.f|=Te,e;if(0===(t.f&_e)){if(!(128&t.f))throw e;t.b.error(e)}else et(e,t)}function et(e,t){for(;null!==t;){if(128&t.f)try{return void t.b.error(e)}catch(n){e=n}t=t.parent}throw e}const tt=-7169;function nt(e,t){e.f=e.f&tt|t}function rt(e){0!==(e.f&we)||null===e.deps?nt(e,xe):nt(e,ke)}function st(e){if(null!==e)for(const t of e)2&t.f&&0!==(t.f&Ee)&&(t.f^=Ee,st(t.deps))}function at(e,t,n){0!==(e.f&ye)?t.add(e):0!==(e.f&ke)&&n.add(e),st(e.deps),nt(e,xe)}const it=new Set;let ot=null,lt=null,ct=null,ut=[],dt=null,vt=!1,pt=!1;e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakSet,u=function(e,t,n){e.f^=xe;for(var r=e.first,s=null;null!==r;){var a=r.f,l=!!(96&a);if(!(l&&0!==(a&xe)||0!==(a&qe)||G(this,o).has(r))&&null!==r.fn){l?r.f^=xe:null!==s&&16777228&a?s.b.defer_effect(r):4&a?t.push(r):Rn(r)&&(0!==(a&ge)&&G(this,i).add(r),Kn(r));var c=r.first;if(null!==c){r=c;continue}}var u=r.parent;for(r=r.next;null===r&&null!==u;)u===s&&(s=null),r=u.next,u=u.parent}},d=function(e){for(var t=0;t<e.length;t+=1)at(e[t],G(this,a),G(this,i))},v=function(){var e;if(it.size>1){this.previous.clear();var t=ct,n=!0;for(const t of it){if(t===this){n=!1;continue}const s=[];for(const[e,r]of this.current){if(t.current.has(e)){if(!n||r===t.current.get(e))continue;t.current.set(e,r)}s.push(e)}if(0===s.length)continue;const a=[...t.current.keys()].filter(e=>!this.current.has(e));if(a.length>0){var r=ut;ut=[];const n=new Set,i=new Map;for(const e of s)wt(e,a,n,i);if(ut.length>0){ot=t,t.apply();for(const n of ut)X(e=t,c,u).call(e,n,[],[]);t.deactivate()}ut=r}}ot=null,ct=t}this.committed=!0,it.delete(this)};let ft=class p{constructor(){Z(this,c),J(this,"committed",!1),J(this,"current",new Map),J(this,"previous",new Map),Z(this,e,new Set),Z(this,t,new Set),Z(this,n,0),Z(this,r,0),Z(this,s,null),Z(this,a,new Set),Z(this,i,new Set),Z(this,o,new Map),J(this,"is_fork",!1),Z(this,l,!1)}is_deferred(){return this.is_fork||G(this,r)>0}skip_effect(e){G(this,o).has(e)||G(this,o).set(e,{d:[],m:[]})}unskip_effect(e){var t=G(this,o).get(e);if(t){for(var n of(G(this,o).delete(e),t.d))nt(n,ye),yt(n);for(n of t.m)nt(n,ke),yt(n)}}process(t){var r;ut=[],this.apply();var a=[],i=[];for(const e of t)X(this,c,u).call(this,e,a,i);if(this.is_deferred()){X(this,c,d).call(this,i),X(this,c,d).call(this,a);for(const[e,t]of G(this,o))kt(e,t)}else{for(const t of G(this,e))t();G(this,e).clear(),0===G(this,n)&&X(this,c,v).call(this),lt=this,ot=null,bt(i),bt(a),lt=null,null==(r=G(this,s))||r.resolve()}ct=null}capture(e,t){t===We||this.previous.has(e)||this.previous.set(e,t),0===(e.f&Te)&&(this.current.set(e,e.v),null==ct||ct.set(e,e.v))}activate(){ot=this,this.apply()}deactivate(){ot===this&&(ot=null,ct=null)}flush(){if(this.activate(),ut.length>0){if(ht(),null!==ot&&ot!==this)return}else 0===G(this,n)&&this.process([]);this.deactivate()}discard(){for(const e of G(this,t))e(this);G(this,t).clear()}increment(e){Q(this,n,G(this,n)+1),e&&Q(this,r,G(this,r)+1)}decrement(e){Q(this,n,G(this,n)-1),e&&Q(this,r,G(this,r)-1),G(this,l)||(Q(this,l,!0),Ze(()=>{Q(this,l,!1),this.is_deferred()?ut.length>0&&this.flush():this.revive()}))}revive(){for(const e of G(this,a))G(this,i).delete(e),nt(e,ye),yt(e);for(const e of G(this,i))nt(e,ke),yt(e);this.flush()}oncommit(t){G(this,e).add(t)}ondiscard(e){G(this,t).add(e)}settled(){var e;return(null!=(e=G(this,s))?e:Q(this,s,he())).promise}static ensure(){if(null===ot){const e=ot=new p;it.add(ot),pt||Ze(()=>{ot===e&&e.flush()})}return ot}apply(){}};function ht(){vt=!0;try{for(var e=0;ut.length>0;){var t=ft.ensure();if(e++>1e3)ee,gt();t.process(ut),Tt.clear()}}finally{ut=[],vt=!1,dt=null}}function gt(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(e){et(e,dt)}}let mt=null;function bt(e){var t=e.length;if(0!==t){for(var n=0;n<t;){var r=e[n++];if(!(24576&r.f)&&Rn(r)&&(mt=new Set,Kn(r),null===r.deps&&null===r.first&&null===r.nodes&&(null===r.teardown&&null===r.ac?yn(r):r.fn=null),(null==mt?void 0:mt.size)>0)){Tt.clear();for(const e of mt){if(24576&e.f)continue;const t=[e];let n=e.parent;for(;null!==n;)mt.has(n)&&(mt.delete(n),t.push(n)),n=n.parent;for(let e=t.length-1;e>=0;e--){const n=t[e];24576&n.f||Kn(n)}}mt.clear()}}mt=null}}function wt(e,t,n,r){if(!n.has(e)&&(n.add(e),null!==e.reactions))for(const s of e.reactions){const e=s.f;2&e?wt(s,t,n,r):4194320&e&&0===(e&ye)&&xt(s,t,r)&&(nt(s,ye),yt(s))}}function xt(e,t,n){const r=n.get(e);if(void 0!==r)return r;if(null!==e.deps)for(const s of e.deps){if(re.call(t,s))return!0;if(2&s.f&&xt(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function yt(e){for(var t=dt=e;null!==t.parent;){var n=(t=t.parent).f;if(vt&&t===Tn&&0!==(n&ge)&&0===(n&Se))return;if(96&n){if(0===(n&xe))return;t.f^=xe}}ut.push(t)}function kt(e,t){if(0===(e.f&me)||0===(e.f&xe)){0!==(e.f&ye)?t.d.push(e):0!==(e.f&ke)&&t.m.push(e),nt(e,xe);for(var n=e.first;null!==n;)kt(n,t),n=n.next}}class qt{constructor(e,t,n){Z(this,E),J(this,"parent"),J(this,"is_pending",!1),Z(this,p),Z(this,f,null),Z(this,h),Z(this,g),Z(this,m),Z(this,b,null),Z(this,w,null),Z(this,x,null),Z(this,y,null),Z(this,k,null),Z(this,q,0),Z(this,$,0),Z(this,_,!1),Z(this,j,!1),Z(this,z,new Set),Z(this,S,new Set),Z(this,P,null),Z(this,M,function(e){let t,n=0,r=Ct(0);return()=>{on()&&(Zn(r),fn(()=>(0===n&&(t=er(()=>e(()=>Lt(r)))),n+=1,()=>{Ze(()=>{n-=1,0===n&&(null==t||t(),t=void 0,Lt(r))})})))}}(()=>(Q(this,P,Ct(G(this,q))),()=>{Q(this,P,null)}))),Q(this,p,e),Q(this,h,t),Q(this,g,n),this.parent=Tn.b,this.is_pending=!!G(this,h).pending,Q(this,m,gn(()=>{Tn.b=this;var e=X(this,E,I).call(this);try{Q(this,b,mn(()=>n(e)))}catch(t){this.error(t)}return G(this,$)>0?X(this,E,U).call(this):this.is_pending=!1,()=>{var e;null==(e=G(this,k))||e.remove()}},589952))}defer_effect(e){at(e,G(this,z),G(this,S))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!G(this,h).pending}update_pending_count(e){X(this,E,C).call(this,e),Q(this,q,G(this,q)+e),G(this,P)&&!G(this,_)&&(Q(this,_,!0),Ze(()=>{Q(this,_,!1),G(this,P)&&Wt(G(this,P),G(this,q))}))}get_effect_pending(){return G(this,M).call(this),Zn(G(this,P))}error(e){var t=G(this,h).onerror;let n=G(this,h).failed;if(G(this,j)||!t&&!n)throw e;G(this,b)&&(xn(G(this,b)),Q(this,b,null)),G(this,w)&&(xn(G(this,w)),Q(this,w,null)),G(this,x)&&(xn(G(this,x)),Q(this,x,null));var r=!1,s=!1;const a=()=>{r?console.warn("https://svelte.dev/e/svelte_boundary_reset_noop"):(r=!0,s&&function(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}(),ft.ensure(),Q(this,q,0),null!==G(this,x)&&kn(G(this,x),()=>{Q(this,x,null)}),this.is_pending=this.has_pending_snippet(),Q(this,b,X(this,E,T).call(this,()=>(Q(this,j,!1),mn(()=>G(this,g).call(this,G(this,p)))))),G(this,$)>0?X(this,E,U).call(this):this.is_pending=!1)};Ze(()=>{try{s=!0,null==t||t(e,a),s=!1}catch(r){et(r,G(this,m)&&G(this,m).parent)}n&&Q(this,x,X(this,E,T).call(this,()=>{ft.ensure(),Q(this,j,!0);try{return mn(()=>{n(G(this,p),()=>e,()=>a)})}catch(r){return et(r,G(this,m).parent),null}finally{Q(this,j,!1)}}))})}}function $t(e,t,n,r){const s=Je()?jt:St;var a=e.filter(e=>!e.settled);if(0!==n.length||0!==a.length){var i,o,l,c,u=ot,d=Tn,v=(i=Tn,o=Mn,l=Re,c=ot,function(e=!0){Un(i),In(o),Be(l),e&&(null==c||c.activate())}),p=1===a.length?a[0].promise:a.length>1?Promise.all(a.map(e=>e.promise)):null;0!==n.length?p?p.then(h):h():p.then(()=>f(t.map(s)))}else r(t.map(s));function f(e){v();try{r(e)}catch(t){0===(d.f&$e)&&et(t,d)}null==u||u.deactivate(),_t()}function h(){v(),Promise.all(n.map(e=>zt(e))).then(e=>f([...t.map(s),...e])).catch(e=>et(e,d))}}function _t(){Un(null),In(null),Be(null)}function jt(e){var t=null!==Mn&&2&Mn.f?Mn:null;null!==Tn&&(Tn.f|=Pe);return{ctx:Re,deps:null,effects:null,equals:Le,f:2050,fn:e,reactions:null,rv:0,v:We,wv:0,parent:null!=t?t:Tn,ac:null}}function zt(e,t,n){let r=Tn;null===r&&function(){throw new Error("https://svelte.dev/e/async_derived_orphan")}();var s=r.b,a=void 0,i=Ct(We),o=!Mn,l=new Map;return function(e){an(4718592,e,!0)}(()=>{var t,n=he();a=n.promise;try{Promise.resolve(e()).then(n.resolve,n.reject).then(()=>{r===ot&&r.committed&&r.deactivate(),_t()})}catch(d){n.reject(d),_t()}var r=ot;if(o){var c=s.is_rendered();s.update_pending_count(1),r.increment(c),null==(t=l.get(r))||t.reject(Ae),l.delete(r),l.set(r,n)}const u=(e,t=void 0)=>{if(r.activate(),t)t!==Ae&&(i.f|=Te,Wt(i,t));else{0!==(i.f&Te)&&(i.f^=Te),Wt(i,e);for(const[e,t]of l){if(l.delete(e),e===r)break;t.reject(Ae)}}o&&(s.update_pending_count(-1),r.decrement(c))};n.promise.then(u,e=>u(null,e||"unknown"))}),ln(()=>{for(const e of l.values())e.reject(Ae)}),new Promise(e=>{!function t(n){function r(){n===a?e(i):t(a)}n.then(r,r)}(a)})}function St(e){const t=jt(e);return t.equals=Fe,t}function Pt(e){var t=e.effects;if(null!==t){e.effects=null;for(var n=0;n<t.length;n+=1)xn(t[n])}}function Mt(e){var t,n=Tn;Un(function(e){for(var t=e.parent;null!==t;){if(!(2&t.f))return 0===(t.f&$e)?t:null;t=t.parent}return null}(e));try{e.f&=-32769,Pt(e),t=Yn(e)}finally{Un(n)}return t}function Et(e){var t=Mt(e);e.equals(t)||(e.wv=Vn(),(null==ot?void 0:ot.is_fork)&&null!==e.deps||(e.v=t,null!==e.deps))?Sn||(null!==ct?(on()||(null==ot?void 0:ot.is_fork))&&ct.set(e,t):rt(e)):nt(e,xe)}p=new WeakMap,f=new WeakMap,h=new WeakMap,g=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,x=new WeakMap,y=new WeakMap,k=new WeakMap,q=new WeakMap,$=new WeakMap,_=new WeakMap,j=new WeakMap,z=new WeakMap,S=new WeakMap,P=new WeakMap,M=new WeakMap,E=new WeakSet,I=function(){var e=G(this,p);return this.is_pending&&(Q(this,k,Kt()),G(this,p).before(G(this,k)),e=G(this,k)),e},T=function(e){var t=Tn,n=Mn,r=Re;Un(G(this,m)),In(G(this,m)),Be(G(this,m).ctx);try{return e()}catch(s){return Xe(s),null}finally{Un(t),In(n),Be(r)}},U=function(){const e=G(this,h).pending;null!==G(this,b)&&(Q(this,y,document.createDocumentFragment()),G(this,y).append(G(this,k)),jn(G(this,b),G(this,y))),null===G(this,w)&&Q(this,w,mn(()=>e(G(this,p))))},C=function(e){var t;if(this.has_pending_snippet()){if(Q(this,$,G(this,$)+e),0===G(this,$)){this.is_pending=!1;for(const e of G(this,z))nt(e,ye),yt(e);for(const e of G(this,S))nt(e,ke),yt(e);G(this,z).clear(),G(this,S).clear(),G(this,w)&&kn(G(this,w),()=>{Q(this,w,null)}),G(this,y)&&(G(this,p).before(G(this,y)),Q(this,y,null))}}else this.parent&&X(t=this.parent,E,C).call(t,e)};let It=new Set;const Tt=new Map;let Ut=!1;function Ct(e,t){return{f:0,v:e,reactions:null,equals:Le,rv:0,wv:0}}function Nt(e,t){const n=Ct(e);var r;return r=n,null!==Mn&&(null===Cn?Cn=[r]:Cn.push(r)),n}function At(e,t=!1,n=!0){var r,s;const a=Ct(e);return t||(a.equals=Fe),Ve&&n&&null!==Re&&null!==Re.l&&(null!=(s=(r=Re.l).s)?s:r.s=[]).push(a),a}function Ot(e,t,n=!1){return null===Mn||En&&0===(Mn.f&ze)||!Je()||!(4325394&Mn.f)||null!==Cn&&re.call(Cn,e)||function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),Wt(e,n?Ft(t):t)}function Wt(e,t){if(!e.equals(t)){var n=e.v;Sn?Tt.set(e,t):Tt.set(e,n),e.v=t;var r=ft.ensure();if(r.capture(e,n),2&e.f){const t=e;0!==(e.f&ye)&&Mt(t),rt(t)}e.wv=Vn(),Dt(e,ye),!Je()||null===Tn||0===(Tn.f&xe)||96&Tn.f||(null===On?function(e){On=e}([e]):On.push(e)),!r.is_fork&&It.size>0&&!Ut&&function(){Ut=!1;for(const e of It)0!==(e.f&xe)&&nt(e,ke),Rn(e)&&Kn(e);It.clear()}()}return t}function Lt(e){Ot(e,e.v+1)}function Dt(e,t){var n=e.reactions;if(null!==n)for(var r=Je(),s=n.length,a=0;a<s;a++){var i=n[a],o=i.f;if(r||i!==Tn){var l=0===(o&ye);if(l&&nt(i,t),2&o){var c=i;null==ct||ct.delete(c),0===(o&Ee)&&(o&we&&(i.f|=Ee),Dt(c,ke))}else l&&(0!==(o&ge)&&null!==mt&&mt.add(i),yt(i))}}}function Ft(e){if("object"!=typeof e||null===e||Ue in e)return e;const t=ue(e);if(t!==le&&t!==ce)return e;var n=new Map,r=te(e),s=Nt(0),a=Dn,i=e=>{if(Dn===a)return e();var t=Mn,n=Dn;In(null),Fn(a);var r=e();return In(t),Fn(n),r};return r&&n.set("length",Nt(e.length)),new Proxy(e,{defineProperty(e,t,r){"value"in r&&!1!==r.configurable&&!1!==r.enumerable&&!1!==r.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var s=n.get(t);return void 0===s?s=i(()=>{var e=Nt(r.value);return n.set(t,e),e}):Ot(s,r.value,!0),!0},deleteProperty(e,t){var r=n.get(t);if(void 0===r){if(t in e){const e=i(()=>Nt(We));n.set(t,e),Lt(s)}}else Ot(r,We),Lt(s);return!0},get(t,r,s){var a;if(r===Ue)return e;var o=n.get(r),l=r in t;if(void 0!==o||l&&!(null==(a=ie(t,r))?void 0:a.writable)||(o=i(()=>Nt(Ft(l?t[r]:We))),n.set(r,o)),void 0!==o){var c=Zn(o);return c===We?void 0:c}return Reflect.get(t,r,s)},getOwnPropertyDescriptor(e,t){var r=Reflect.getOwnPropertyDescriptor(e,t);if(r&&"value"in r){var s=n.get(t);s&&(r.value=Zn(s))}else if(void 0===r){var a=n.get(t),i=null==a?void 0:a.v;if(void 0!==a&&i!==We)return{enumerable:!0,configurable:!0,value:i,writable:!0}}return r},has(e,t){var r;if(t===Ue)return!0;var s=n.get(t),a=void 0!==s&&s.v!==We||Reflect.has(e,t);if((void 0!==s||null!==Tn&&(!a||(null==(r=ie(e,t))?void 0:r.writable)))&&(void 0===s&&(s=i(()=>Nt(a?Ft(e[t]):We)),n.set(t,s)),Zn(s)===We))return!1;return a},set(e,t,a,o){var l,c=n.get(t),u=t in e;if(r&&"length"===t)for(var d=a;d<c.v;d+=1){var v=n.get(d+"");void 0!==v?Ot(v,We):d in e&&(v=i(()=>Nt(We)),n.set(d+"",v))}void 0===c?u&&!(null==(l=ie(e,t))?void 0:l.writable)||(Ot(c=i(()=>Nt(void 0)),Ft(a)),n.set(t,c)):(u=c.v!==We,Ot(c,i(()=>Ft(a))));var p=Reflect.getOwnPropertyDescriptor(e,t);if((null==p?void 0:p.set)&&p.set.call(o,a),!u){if(r&&"string"==typeof t){var f=n.get("length"),h=Number(t);Number.isInteger(h)&&h>=f.v&&Ot(f,h+1)}Lt(s)}return!0},ownKeys(e){Zn(s);var t=Reflect.ownKeys(e).filter(e=>{var t=n.get(e);return void 0===t||t.v!==We});for(var[r,a]of n)a.v===We||r in e||t.push(r);return t},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function Vt(e){try{if(null!==e&&"object"==typeof e&&Ue in e)return e[Ue]}catch{}return e}function Rt(e,t){return Object.is(Vt(e),Vt(t))}var Bt,Yt,Ht,Jt;function Kt(e=""){return document.createTextNode(e)}function Gt(e){return Ht.call(e)}function Zt(e){return Jt.call(e)}function Qt(e,t){return Gt(e)}function Xt(e,t=!1){var n=Gt(e);return n instanceof Comment&&""===n.data?Zt(n):n}function en(e,t=1,n=!1){let r=e;for(;t--;)r=Zt(r);return r}let tn=!1;function nn(e){var t=Mn,n=Tn;In(null),Un(null);try{return e()}finally{In(t),Un(n)}}function rn(e,t,n,r=n){e.addEventListener(t,()=>nn(n));const s=e.__on_r;e.__on_r=s?()=>{s(),r(!0)}:()=>r(!0),tn||(tn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)null==(t=n.__on_r)||t.call(n)})},{capture:!0}))}function sn(e){null===Tn&&(null===Mn&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}()),Sn&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function an(e,t,n){var r,s=Tn;null!==s&&0!==(s.f&qe)&&(e|=qe);var a={ctx:Re,deps:null,nodes:null,f:e|ye|we,first:null,fn:t,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Kn(a),a.f|=_e}catch(l){throw xn(a),l}else null!==t&&yt(a);var i=a;if(n&&null===i.deps&&null===i.teardown&&null===i.nodes&&i.first===i.last&&0===(i.f&Pe)&&(i=i.first,0!==(e&ge)&&0!==(e&je)&&null!==i&&(i.f|=je)),null!==i&&(i.parent=s,null!==s&&function(e,t){var n=t.last;null===n?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}(i,s),null!==Mn&&2&Mn.f&&0===(e&be))){var o=Mn;(null!=(r=o.effects)?r:o.effects=[]).push(i)}return a}function on(){return null!==Mn&&!En}function ln(e){const t=an(8,null,!1);return nt(t,xe),t.teardown=e,t}function cn(e){var t;sn();var n=Tn.f;if(!(!Mn&&0!==(n&me)&&0===(n&_e)))return un(e);var r=Re;(null!=(t=r.e)?t:r.e=[]).push(e)}function un(e){return an(1048580,e,!1)}function dn(e){return an(4,e,!1)}function vn(e,t){var n={effect:null,ran:!1,deps:e};Re.l.$.push(n),n.effect=fn(()=>{e(),n.ran||(n.ran=!0,er(t))})}function pn(){var e=Re;fn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;0!==(n.f&xe)&&null!==n.deps&&nt(n,ke),Rn(n)&&Kn(n),t.ran=!1}})}function fn(e,t=0){return an(8|t,e,!0)}function hn(e,t=[],n=[],r=[]){$t(r,t,n,t=>{an(8,()=>e(...t.map(Zn)),!0)})}function gn(e,t=0){return an(ge|t,e,!0)}function mn(e){return an(524320,e,!0)}function bn(e){var t=e.teardown;if(null!==t){const e=Sn,n=Mn;Pn(!0),In(null);try{t.call(null)}finally{Pn(e),In(n)}}}function wn(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){const e=n.ac;null!==e&&nn(()=>{e.abort(Ae)});var r=n.next;0!==(n.f&be)?n.parent=null:xn(n,t),n=r}}function xn(e,t=!0){var n=!1;!t&&0===(e.f&Se)||null===e.nodes||null===e.nodes.end||(!function(e,t){for(;null!==e;){var n=e===t?null:Zt(e);e.remove(),e=n}}(e.nodes.start,e.nodes.end),n=!0),wn(e,t&&!n),Jn(e,0),nt(e,$e);var r=e.nodes&&e.nodes.t;if(null!==r)for(const a of r)a.stop();bn(e);var s=e.parent;null!==s&&null!==s.first&&yn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function yn(e){var t=e.parent,n=e.prev,r=e.next;null!==n&&(n.next=r),null!==r&&(r.prev=n),null!==t&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function kn(e,t,n=!0){var r=[];qn(e,r,!0);var s=()=>{n&&xn(e),t&&t()},a=r.length;if(a>0){var i=()=>--a||s();for(var o of r)o.out(i)}else s()}function qn(e,t,n){if(0===(e.f&qe)){e.f^=qe;var r=e.nodes&&e.nodes.t;if(null!==r)for(const e of r)(e.is_global||n)&&t.push(e);for(var s=e.first;null!==s;){var a=s.next;qn(s,t,!!(0!==(s.f&je)||0!==(s.f&me)&&0!==(e.f&ge))&&n),s=a}}}function $n(e){_n(e,!0)}function _n(e,t){if(0!==(e.f&qe)){e.f^=qe,0===(e.f&xe)&&(nt(e,ye),yt(e));for(var n=e.first;null!==n;){var r=n.next;_n(n,!!(0!==(n.f&je)||0!==(n.f&me))&&t),n=r}var s=e.nodes&&e.nodes.t;if(null!==s)for(const e of s)(e.is_global||t)&&e.in()}}function jn(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;null!==n;){var s=n===r?null:Zt(n);t.append(n),n=s}}let zn=!1,Sn=!1;function Pn(e){Sn=e}let Mn=null,En=!1;function In(e){Mn=e}let Tn=null;function Un(e){Tn=e}let Cn=null;let Nn=null,An=0,On=null;let Wn=1,Ln=0,Dn=Ln;function Fn(e){Dn=e}function Vn(){return++Wn}function Rn(e){var t=e.f;if(0!==(t&ye))return!0;if(2&t&&(e.f&=-32769),0!==(t&ke)){for(var n=e.deps,r=n.length,s=0;s<r;s++){var a=n[s];if(Rn(a)&&Et(a),a.wv>e.wv)return!0}0!==(t&we)&&null===ct&&nt(e,xe)}return!1}function Bn(e,t,n=!0){var r=e.reactions;if(null!==r&&(null===Cn||!re.call(Cn,e)))for(var s=0;s<r.length;s++){var a=r[s];2&a.f?Bn(a,t,!1):t===a&&(n?nt(a,ye):0!==(a.f&xe)&&nt(a,ke),yt(a))}}function Yn(e){var t,n,r=Nn,s=An,a=On,i=Mn,o=Cn,l=Re,c=En,u=Dn,d=e.f;Nn=null,An=0,On=null,Mn=96&d?null:e,Cn=null,Be(e.ctx),En=!1,Dn=++Ln,null!==e.ac&&(nn(()=>{e.ac.abort(Ae)}),e.ac=null);try{e.f|=Ie;var v=(0,e.fn)(),p=e.deps,f=null==ot?void 0:ot.is_fork;if(null!==Nn){var h;if(f||Jn(e,An),null!==p&&An>0)for(p.length=An+Nn.length,h=0;h<Nn.length;h++)p[An+h]=Nn[h];else e.deps=p=Nn;if(on()&&0!==(e.f&we))for(h=An;h<p.length;h++)(null!=(n=(t=p[h]).reactions)?n:t.reactions=[]).push(e)}else!f&&null!==p&&An<p.length&&(Jn(e,An),p.length=An);if(Je()&&null!==On&&!En&&null!==p&&!(6146&e.f))for(h=0;h<On.length;h++)Bn(On[h],e);if(null!==i&&i!==e){if(Ln++,null!==i.deps)for(let e=0;e<s;e+=1)i.deps[e].rv=Ln;if(null!==r)for(const e of r)e.rv=Ln;null!==On&&(null===a?a=On:a.push(...On))}return 0!==(e.f&Te)&&(e.f^=Te),v}catch(g){return Xe(g)}finally{e.f^=Ie,Nn=r,An=s,On=a,Mn=i,Cn=o,Be(l),En=c,Dn=u}}function Hn(e,t){let n=t.reactions;if(null!==n){var r=ne.call(n,e);if(-1!==r){var s=n.length-1;0===s?n=t.reactions=null:(n[r]=n[s],n.pop())}}if(null===n&&2&t.f&&(null===Nn||!re.call(Nn,t))){var a=t;0!==(a.f&we)&&(a.f^=we,a.f&=-32769),rt(a),Pt(a),Jn(a,0)}}function Jn(e,t){var n=e.deps;if(null!==n)for(var r=t;r<n.length;r++)Hn(e,n[r])}function Kn(e){var t=e.f;if(0===(t&$e)){nt(e,xe);var n=Tn,r=zn;Tn=e,zn=!0;try{16777232&t?function(e){for(var t=e.first;null!==t;){var n=t.next;0===(t.f&me)&&xn(t),t=n}}(e):wn(e),bn(e);var s=Yn(e);e.teardown="function"==typeof s?s:null,e.wv=Wn}finally{zn=r,Tn=n}}}async function Gn(){await Promise.resolve(),function(){var e=pt;pt=!0;try{for(;;){if(Qe(),0===ut.length&&(null==ot||ot.flush(),0===ut.length))return void(dt=null);ht()}}finally{pt=e}}()}function Zn(e){var t,n=!!(2&e.f);if(null!==Mn&&!En&&!(null!==Tn&&0!==(Tn.f&$e)||null!==Cn&&re.call(Cn,e))){var r=Mn.deps;if(0!==(Mn.f&Ie))e.rv<Ln&&(e.rv=Ln,null===Nn&&null!==r&&r[An]===e?An++:null===Nn?Nn=[e]:Nn.push(e));else{(null!=(t=Mn.deps)?t:Mn.deps=[]).push(e);var s=e.reactions;null===s?e.reactions=[Mn]:re.call(s,Mn)||s.push(Mn)}}if(Sn&&Tt.has(e))return Tt.get(e);if(n){var a=e;if(Sn){var i=a.v;return(0===(a.f&xe)&&null!==a.reactions||Xn(a))&&(i=Mt(a)),Tt.set(a,i),i}var o=0===(a.f&we)&&!En&&null!==Mn&&(zn||0!==(Mn.f&we)),l=null===a.deps;Rn(a)&&(o&&(a.f|=we),Et(a)),o&&!l&&Qn(a)}if(null==ct?void 0:ct.has(e))return ct.get(e);if(0!==(e.f&Te))throw e.v;return e.v}function Qn(e){var t;if(null!==e.deps){e.f|=we;for(const n of e.deps)(null!=(t=n.reactions)?t:n.reactions=[]).push(e),2&n.f&&0===(n.f&we)&&Qn(n)}}function Xn(e){if(e.v===We)return!0;if(null===e.deps)return!1;for(const t of e.deps){if(Tt.has(t))return!0;if(2&t.f&&Xn(t))return!0}return!1}function er(e){var t=En;try{return En=!0,e()}finally{En=t}}function tr(e){if("object"==typeof e&&e&&!(e instanceof EventTarget))if(Ue in e)nr(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];"object"==typeof n&&n&&Ue in n&&nr(n)}}function nr(e,t=new Set){if(!("object"!=typeof e||null===e||e instanceof EventTarget||t.has(e))){t.add(e),e instanceof Date&&e.getTime();for(let s in e)try{nr(e[s],t)}catch(n){}const r=ue(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const t=oe(r);for(let r in t){const s=t[r].get;if(s)try{s.call(e)}catch(n){}}}}}const rr=["touchstart","touchmove"];function sr(e){return rr.includes(e)}const ar=new Set,ir=new Set;function or(e,t,n,r,s){var a={capture:r,passive:s},i=function(e,t,n,r={}){function s(e){if(r.capture||cr.call(t,e),!e.cancelBubble)return nn(()=>null==n?void 0:n.call(this,e))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?Ze(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}(e,t,n,a);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ln(()=>{t.removeEventListener(e,i,a)})}let lr=null;function cr(e){var t,n=this,r=n.ownerDocument,s=e.type,a=(null==(t=e.composedPath)?void 0:t.call(e))||[],i=a[0]||e.target;lr=e;var o=0,l=lr===e&&e.__root;if(l){var c=a.indexOf(l);if(-1!==c&&(n===document||n===window))return void(e.__root=n);var u=a.indexOf(n);if(-1===u)return;c<=u&&(o=c)}if((i=a[o]||e.target)!==n){ae(e,"currentTarget",{configurable:!0,get:()=>i||r});var d=Mn,v=Tn;In(null),Un(null);try{for(var p,f=[];null!==i;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+s];null==g||i.disabled&&e.target!==i||g.call(i,e)}catch(m){p?f.push(m):p=m}if(e.cancelBubble||h===n||null===h)break;i=h}if(p){for(let e of f)queueMicrotask(()=>{throw e});throw p}}finally{e.__root=n,delete e.currentTarget,In(d),Un(v)}}}function ur(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","\x3c!----\x3e"),t.content}function dr(e,t){var n=Tn;null===n.nodes&&(n.nodes={start:e,end:t,a:null,t:null})}function vr(e,t){var n,r=!!(1&t),s=!!(2&t),a=!e.startsWith("<!>");return()=>{void 0===n&&(n=ur(a?e:"<!>"+e),r||(n=Gt(n)));var t=s||Yt?document.importNode(n,!0):n.cloneNode(!0);r?dr(Gt(t),t.lastChild):dr(t,t);return t}}function pr(e,t,n="svg"){var r,s=!e.startsWith("<!>"),a=!!(1&t),i=`<${n}>${s?e:"<!>"+e}</${n}>`;return()=>{if(!r){var e=Gt(ur(i));if(a)for(r=document.createDocumentFragment();Gt(e);)r.appendChild(Gt(e));else r=Gt(e)}var t=r.cloneNode(!0);a?dr(Gt(t),t.lastChild):dr(t,t);return t}}function fr(e,t){return pr(e,t,"svg")}function hr(e=""){var t=Kt(e+"");return dr(t,t),t}function gr(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Kt();return e.append(t,n),dr(t,n),e}function mr(e,t){null!==e&&e.before(t)}let br=!0;function wr(e,t){var n,r=null==t?"":"object"==typeof t?t+"":t;r!==(null!=(n=e.__t)?n:e.__t=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}const xr=new Map;let yr=new WeakMap;class kr{constructor(e,t=!0){J(this,"anchor"),Z(this,N,new Map),Z(this,A,new Map),Z(this,O,new Map),Z(this,W,new Set),Z(this,L,!0),Z(this,D,()=>{var e=ot;if(G(this,N).has(e)){var t=G(this,N).get(e),n=G(this,A).get(t);if(n)$n(n),G(this,W).delete(t);else{var r=G(this,O).get(t);r&&(G(this,A).set(t,r.effect),G(this,O).delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),n=r.effect)}for(const[t,n]of G(this,N)){if(G(this,N).delete(t),t===e)break;const r=G(this,O).get(n);r&&(xn(r.effect),G(this,O).delete(n))}for(const[e,r]of G(this,A)){if(e===t||G(this,W).has(e))continue;const s=()=>{if(Array.from(G(this,N).values()).includes(e)){var t=document.createDocumentFragment();jn(r,t),t.append(Kt()),G(this,O).set(e,{effect:r,fragment:t})}else xn(r);G(this,W).delete(e),G(this,A).delete(e)};G(this,L)||!n?(G(this,W).add(e),kn(r,s,!1)):s()}}}),Z(this,F,e=>{G(this,N).delete(e);const t=Array.from(G(this,N).values());for(const[n,r]of G(this,O))t.includes(n)||(xn(r.effect),G(this,O).delete(n))}),this.anchor=e,Q(this,L,t)}ensure(e,t){var n=ot;!t||G(this,A).has(e)||G(this,O).has(e)||G(this,A).set(e,mn(()=>t(this.anchor)));G(this,N).set(n,e),G(this,D).call(this)}}function qr(e,t,n=!1){var r=new kr(e);function s(e,t){r.ensure(e,t)}gn(()=>{var e=!1;t((t,n=!0)=>{e=!0,s(n,t)}),e||s(!1,null)},n?je:0)}function $r(e,t){return t}function _r(e,t=!0){for(var n=0;n<e.length;n++)xn(e[n],t)}var jr;function zr(e,t,n,r,s,a=null){var i=e,o=new Map;!(4&t)||(i=e.appendChild(Kt()));var l,c=null,u=St(()=>{var e=n();return te(e)?e:null==e?[]:se(e)}),d=!0;function v(){p.fallback=c,function(e,t,n,r,s){var a,i,o,l,c,u,d,v,p,f,h,g,m,b,w=!!(8&r),x=t.length,y=e.items,k=Sr(e.effect.first),q=null,$=[],_=[];if(w)for(b=0;b<x;b+=1)g=s(t[b],b),0===((m=y.get(g).e).f&Me)&&(null==(i=null==(a=m.nodes)?void 0:a.a)||i.measure(),(null!=h?h:h=new Set).add(m));for(b=0;b<x;b+=1){if(g=s(t[b],b),m=y.get(g).e,null!==e.outrogroups)for(const t of e.outrogroups)t.pending.delete(m),t.done.delete(m);if(0!==(m.f&Me)){if(m.f^=Me,m!==k){var j=q?q.next:k;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),Er(e,q,m),Er(e,m,j),Mr(m,j,n),$=[],_=[],k=Sr((q=m).next);continue}Mr(m,null,n)}if(0!==(m.f&qe)&&($n(m),w&&(null==(l=null==(o=m.nodes)?void 0:o.a)||l.unfix(),(null!=h?h:h=new Set).delete(m))),m!==k){if(void 0!==f&&f.has(m)){if($.length<_.length){var z,S=_[0];q=S.prev;var P=$[0],M=$[$.length-1];for(z=0;z<$.length;z+=1)Mr($[z],S,n);for(z=0;z<_.length;z+=1)f.delete(_[z]);Er(e,P.prev,M.next),Er(e,q,P),Er(e,M,S),k=S,q=M,b-=1,$=[],_=[]}else f.delete(m),Mr(m,k,n),Er(e,m.prev,m.next),Er(e,m,null===q?e.effect.first:q.next),Er(e,q,m),q=m;continue}for($=[],_=[];null!==k&&k!==m;)(null!=f?f:f=new Set).add(k),_.push(k),k=Sr(k.next);if(null===k)continue}0===(m.f&Me)&&$.push(m),q=m,k=Sr(m.next)}if(null!==e.outrogroups){for(const t of e.outrogroups)0===t.pending.size&&(_r(se(t.done)),null==(c=e.outrogroups)||c.delete(t));0===e.outrogroups.size&&(e.outrogroups=null)}if(null!==k||void 0!==f){var E=[];if(void 0!==f)for(m of f)0===(m.f&qe)&&E.push(m);for(;null!==k;)0===(k.f&qe)&&k!==e.fallback&&E.push(k),k=Sr(k.next);var I=E.length;if(I>0){var T=4&r&&0===x?n:null;if(w){for(b=0;b<I;b+=1)null==(d=null==(u=E[b].nodes)?void 0:u.a)||d.measure();for(b=0;b<I;b+=1)null==(p=null==(v=E[b].nodes)?void 0:v.a)||p.fix()}!function(e,t,n){for(var r,s,a=t.length,i=t.length,o=0;o<a;o++){let n=t[o];kn(n,()=>{if(s){if(s.pending.delete(n),s.done.add(n),0===s.pending.size){var t=e.outrogroups;_r(se(s.done)),t.delete(s),0===t.size&&(e.outrogroups=null)}}else i-=1},!1)}if(0===i){var l=null!==n;if(l){var c=n,u=c.parentNode;u.textContent="",u.append(c),e.items.clear()}_r(t,!l)}else s={pending:new Set(t),done:new Set},(null!=(r=e.outrogroups)?r:e.outrogroups=new Set).add(s)}(e,E,T)}}w&&Ze(()=>{var e,t;if(void 0!==h)for(m of h)null==(t=null==(e=m.nodes)?void 0:e.a)||t.apply()})}(p,l,i,t,r),null!==c&&(0===l.length?0===(c.f&Me)?$n(c):(c.f^=Me,Mr(c,null,i)):kn(c,()=>{c=null}))}var p={effect:gn(()=>{for(var e=(l=Zn(u)).length,p=new Set,f=0;f<e;f+=1){var h=l[f],g=r(h,f),m=d?null:o.get(g);m?(m.v&&Wt(m.v,h),m.i&&Wt(m.i,f)):(m=Pr(o,d?i:null!=jr?jr:jr=Kt(),h,g,f,s,t,n),d||(m.e.f|=Me),o.set(g,m)),p.add(g)}0===e&&a&&!c&&(d?c=mn(()=>a(i)):(c=mn(()=>a(null!=jr?jr:jr=Kt()))).f|=Me),e>p.size&&function(){throw new Error("https://svelte.dev/e/each_key_duplicate")}(),d||v(),Zn(u)}),items:o,outrogroups:null,fallback:c};d=!1}function Sr(e){for(;null!==e&&0===(e.f&me);)e=e.next;return e}function Pr(e,t,n,r,s,a,i,o){var l=1&i?16&i?Ct(n):At(n,!1,!1):null,c=2&i?Ct(s):null;return{v:l,i:c,e:mn(()=>(a(t,null!=l?l:n,null!=c?c:s,o),()=>{e.delete(r)}))}}function Mr(e,t,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,a=t&&0===(t.f&Me)?t.nodes.start:n;null!==r;){var i=Zt(r);if(a.before(r),r===s)return;r=i}}function Er(e,t,n){null===t?e.effect.first=n:t.next=n,null===n?e.effect.last=t:n.prev=t}function Ir(e,t,n,r,s){var a,i=null==(a=t.$$slots)?void 0:a[n],o=!1;!0===i&&(i=t.children,o=!0),void 0===i||i(e,o?()=>r:r)}N=new WeakMap,A=new WeakMap,O=new WeakMap,W=new WeakMap,L=new WeakMap,D=new WeakMap,F=new WeakMap;const Tr={tick:e=>requestAnimationFrame(e),now:()=>performance.now(),tasks:new Set};function Ur(){const e=Tr.now();Tr.tasks.forEach(t=>{t.c(e)||(Tr.tasks.delete(t),t.f())}),0!==Tr.tasks.size&&Tr.tick(Ur)}function Cr(e,t){nn(()=>{e.dispatchEvent(new CustomEvent(t))})}function Nr(e){if("float"===e)return"cssFloat";if("offset"===e)return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function Ar(e){const t={},n=e.split(";");for(const r of n){const[e,n]=r.split(":");if(!e||void 0===n)break;t[Nr(e.trim())]=n.trim()}return t}const Or=e=>e;function Wr(e,t,n,r,s){var a=1===r;if("function"==typeof t){var i,o=!1;return Ze(()=>{if(!o){var l=t({direction:a?"in":"out"});i=Wr(e,l,n,r,s)}}),{abort:()=>{o=!0,null==i||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(null==n||n.deactivate(),!(null==t?void 0:t.duration)&&!(null==t?void 0:t.delay))return Cr(e,a?"introstart":"outrostart"),s(),{abort:ve,deactivate:ve,reset:ve,t:()=>r};const{delay:l=0,css:c,tick:u,easing:d=Or}=t;var v=[];if(a&&void 0===n&&(u&&u(0,1),c)){var p=Ar(c(0,1));v.push(p,p)}var f=()=>1-r,h=e.animate(v,{duration:l,fill:"forwards"});return h.onfinish=()=>{var i;h.cancel(),Cr(e,a?"introstart":"outrostart");var o=null!=(i=null==n?void 0:n.t())?i:1-r;null==n||n.abort();var l=r-o,v=t.duration*Math.abs(l),p=[];if(v>0){var g=!1;if(c)for(var m=Math.ceil(v/(1e3/60)),b=0;b<=m;b+=1){var w=o+l*d(b/m),x=Ar(c(w,1-w));p.push(x),g||(g="hidden"===x.overflow)}g&&(e.style.overflow="hidden"),f=()=>{var e=h.currentTime;return o+l*d(e/v)},u&&function(e){let t;0===Tr.tasks.size&&Tr.tick(Ur),new Promise(n=>{Tr.tasks.add(t={c:e,f:n})})}(()=>{if("running"!==h.playState)return!1;var e=f();return u(e,1-e),!0})}(h=e.animate(p,{duration:v,fill:"forwards"})).onfinish=()=>{f=()=>r,null==u||u(r,1-r),s()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=ve)},deactivate:()=>{s=ve},reset:()=>{0===r&&(null==u||u(1,0))},t:()=>f()}}function Lr(e,t){dn(()=>{var n,r=e.getRootNode(),s=r.host?r:null!=(n=r.head)?n:r.ownerDocument.head;if(!s.querySelector("#"+t.hash)){const e=document.createElement("style");e.id=t.hash,e.textContent=t.code,s.appendChild(e)}})}const Dr=[..." \t\n\r\f \v\ufeff"];function Fr(e,t,n,r,s,a){var i=e.__className;if(i!==n||void 0===i){var o=function(e,t,n){var r=null==e?"":""+e;if(t&&(r=r?r+" "+t:t),n)for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var a=s.length,i=0;(i=r.indexOf(s,i))>=0;){var o=i+a;0!==i&&!Dr.includes(r[i-1])||o!==r.length&&!Dr.includes(r[o])?i=o:r=(0===i?"":r.substring(0,i))+r.substring(o+1)}return""===r?null:r}(n,r,a);null==o?e.removeAttribute("class"):e.className=o,e.__className=n}else if(a&&s!==a)for(var l in a){var c=!!a[l];null!=s&&c===!!s[l]||e.classList.toggle(l,c)}return a}function Vr(e,t,n,r){if(e.__style!==t){var s=function(e){return null==e?null:String(e)}(t);null==s?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return r}function Rr(e,t,n=!1){if(e.multiple){if(null==t)return;if(!te(t))return void console.warn("https://svelte.dev/e/select_multiple_invalid_value");for(var r of e.options)r.selected=t.includes(Br(r))}else{for(r of e.options){if(Rt(Br(r),t))return void(r.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}}function Br(e){return"__value"in e?e.__value:e.value}const Yr=Symbol("is custom element"),Hr=Symbol("is html");function Jr(e,t){var n=Gr(e);n.checked!==(n.checked=null!=t?t:void 0)&&(e.checked=t)}function Kr(e,t,n,r){var s=Gr(e);s[t]!==(s[t]=n)&&("loading"===t&&(e[Ne]=n),null==n?e.removeAttribute(t):"string"!=typeof n&&function(e){var t,n=e.getAttribute("is")||e.nodeName,r=Zr.get(n);if(r)return r;Zr.set(n,r=[]);var s=e,a=Element.prototype;for(;a!==s;){for(var i in t=oe(s))t[i].set&&r.push(i);s=ue(s)}return r}(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Gr(e){var t;return null!=(t=e.__attributes)?t:e.__attributes={[Yr]:e.nodeName.includes("-"),[Hr]:"http://www.w3.org/1999/xhtml"===e.namespaceURI}}var Zr=new Map;function Qr(e,t,n=t){var r=new WeakSet;rn(e,"input",async s=>{var a=s?e.defaultValue:e.value;if(a=Xr(e)?es(a):a,n(a),null!==ot&&r.add(ot),await Gn(),a!==(a=t())){var i=e.selectionStart,o=e.selectionEnd,l=e.value.length;if(e.value=null!=a?a:"",null!==o){var c=e.value.length;i===o&&o===l&&c>l?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=i,e.selectionEnd=Math.min(o,c))}}}),null==er(t)&&e.value&&(n(Xr(e)?es(e.value):e.value),null!==ot&&r.add(ot)),fn(()=>{var n=t();if(e===document.activeElement){var s=null!=lt?lt:ot;if(r.has(s))return}Xr(e)&&n===es(e.value)||("date"!==e.type||n||e.value)&&n!==e.value&&(e.value=null!=n?n:"")})}function Xr(e){var t=e.type;return"number"===t||"range"===t}function es(e){return""===e?null:+e}function ts(e=!1){const t=Re,n=t.l.u;if(!n)return;let r=()=>tr(t.s);if(e){let e=0,n={};const s=jt(()=>{let r=!1;const s=t.s;for(const e in s)s[e]!==n[e]&&(n[e]=s[e],r=!0);return r&&e++,e});r=()=>Zn(s)}var s;n.b.length&&(s=()=>{ns(t,r),fe(n.b)},sn(),an(1048584,s,!0)),cn(()=>{const e=er(()=>n.m.map(pe));return()=>{for(const t of e)"function"==typeof t&&t()}}),n.a.length&&cn(()=>{ns(t,r),fe(n.a)})}function ns(e,t){if(e.l.s)for(const n of e.l.s)Zn(n);t()}function rs(e,t){var n,r=null==(n=e.$$events)?void 0:n[t.type],s=te(r)?r.slice():null==r?[]:[r];for(var a of s)a.call(this,t)}function ss(e,t,n){if(null==e)return t(void 0),n&&n(void 0),ve;const r=er(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const as=[];function is(e,t=ve){let n=null;const r=new Set;function s(t){if(De(e,t)&&(e=t,n)){const t=!as.length;for(const n of r)n[1](),as.push(n,e);if(t){for(let e=0;e<as.length;e+=2)as[e][0](as[e+1]);as.length=0}}}function a(t){s(t(e))}return{set:s,update:a,subscribe:function(i,o=ve){const l=[i,o];return r.add(l),1===r.size&&(n=t(s,a)||ve),i(e),()=>{r.delete(l),0===r.size&&n&&(n(),n=null)}}}}function os(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=t.length<2;return i=(e,n)=>{let i=!1;const o=[];let l=0,c=ve;const u=()=>{if(l)return;c();const s=t(r?o[0]:o,e,n);a?e(s):c="function"==typeof s?s:ve},d=s.map((e,t)=>ss(e,e=>{o[t]=e,l&=~(1<<t),i&&u()},()=>{l|=1<<t}));return i=!0,u(),function(){fe(d),c(),i=!1}},{subscribe:is(n,i).subscribe};var i}function ls(e){let t;return ss(e,e=>t=e)(),t}let cs=!1,us=Symbol();function ds(e,t,n){var r;const s=null!=(r=n[t])?r:n[t]={store:null,source:At(void 0),unsubscribe:ve};if(s.store!==e&&!(us in n))if(s.unsubscribe(),s.store=null!=e?e:null,null==e)s.source.v=void 0,s.unsubscribe=ve;else{var a=!0;s.unsubscribe=ss(e,e=>{a?s.source.v=e:Ot(s.source,e)}),a=!1}return e&&us in n?ls(e):Zn(s.source)}function vs(){const e={};return[e,function(){ln(()=>{for(var t in e){e[t].unsubscribe()}ae(e,us,{enumerable:!1,value:!0})})}]}function ps(e,t,n,r){var s,a,i,o,l=!Ve||!!(2&n),c=!!(8&n),u=!!(16&n),d=r,v=!0,p=()=>(v&&(v=!1,d=u?er(r):r),d);if(c){var f=Ue in e||Ce in e;i=null!=(a=null==(s=ie(e,t))?void 0:s.set)?a:f&&t in e?n=>e[t]=n:void 0}var h,g=!1;if(c?[o,g]=function(e){var t=cs;try{return cs=!1,[e(),cs]}finally{cs=t}}(()=>e[t]):o=e[t],void 0===o&&void 0!==r&&(o=p(),i&&(l&&function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),i(o))),h=l?()=>{var n=e[t];return void 0===n?p():(v=!0,n)}:()=>{var n=e[t];return void 0!==n&&(d=void 0),void 0===n?d:n},l&&!(4&n))return h;if(i){var m=e.$$legacy;return function(e,t){return arguments.length>0?(l&&t&&!m&&!g||i(t?h():e),e):h()}}var b=!1,w=(1&n?jt:St)(()=>(b=!1,h()));c&&Zn(w);var x=Tn;return function(e,t){if(arguments.length>0){const n=t?Zn(w):l&&c?Ft(e):e;return Ot(w,n),b=!0,void 0!==d&&(d=n),e}return Sn&&b||0!==(x.f&$e)?w.v:Zn(w)}}function fs(e){var t,n,r;null===Re&&Oe(),Ve&&null!==Re.l?(t=Re,r=t.l,null!=(n=r.u)?n:r.u={a:[],b:[],m:[]}).m.push(e):cn(()=>{const t=er(e);if("function"==typeof t)return t})}"undefined"!=typeof window&&(null!=(B=(R=null!=(V=window.__svelte)?V:window.__svelte={}).v)?B:R.v=new Set).add("5"),Ve=!0;const hs=new Map;function gs(e,t){try{const n="string"==typeof t?t:JSON.stringify(t||"");window.postMessage(e,n)}catch(n){console.error("[bridge] pluginCall error:",n)}}function ms(e,t){return hs.has(e)||hs.set(e,[]),hs.get(e).push(t),()=>{const n=hs.get(e);if(n){const e=n.indexOf(t);e>=0&&n.splice(e,1)}}}const bs=new Map,ws=new Map;function xs(e,t=12e4){return new Promise((n,r)=>{const s=ws.get(e);s&&(clearTimeout(s.timer),s.reject(new Error("Superseded by new request")));const a=setTimeout(()=>{ws.delete(e),r(new Error(`Image export timed out for "${e}"`))},t);ws.set(e,{resolve:n,reject:r,timer:a}),gs("exportArtboard",e)})}const ys=is("light");const ks=is("connect"),qs=is("connect");function $s(e){qs.set(ls(ks)),ks.set(e)}const _s=is({...{serverUrl:"",authToken:"",userEmail:"",userName:"",lastProjectId:"",authMode:"login",projects:[],selectedProjectId:null,selectedProjectName:"",documentData:null,projectVersions:[],selectedVersionId:null,alreadyUploadedIds:new Set,loadingVersionScreens:!1}});function js(e){_s.update(t=>({...t,...e}))}function zs(){js({authToken:"",userEmail:"",userName:""}),gs("logout"),$s("connect")}os(_s,e=>!!e.serverUrl&&!!e.authToken),os(_s,e=>!!e.serverUrl);const Ss=is(new Set);function Ps(e){Ss.set(new Set(e))}function Ms(e){js({selectedVersionId:e})}function Es(){js({selectedVersionId:null,alreadyUploadedIds:new Set})}const Is={isPublishing:!1,step:"creating",versionId:null,queue:[],uploadedIds:new Set,stats:{screens:0,flows:0,tokens:0},percent:0,detail:"Preparing…",startTime:0,elapsed:"0s",error:null,cancelled:!1},Ts=is({...Is});function Us(e){Ts.update(t=>({...t,...e}))}function Cs(){Ts.set({...Is})}function Ns(e,t,n){Ts.update(r=>({...r,queue:r.queue.map(r=>r.id===e?{...r,status:t,error:n}:r)}))}let As=null;function Os(){As&&(clearInterval(As),As=null)}const Ws=os(Ts,e=>({percent:e.percent,detail:e.detail,elapsed:e.elapsed,step:e.step,error:e.error,stats:e.stats,queue:e.queue,isPublishing:e.isPublishing,cancelled:e.cancelled}));let Ls=0;const Ds=is([]);function Fs(e,t="info",n=4e3){const r=++Ls,s=Date.now()+n;Ds.update(n=>[...n,{id:r,message:e,type:t,dismissAt:s}]),setTimeout(()=>{Vs(r)},n)}function Vs(e){Ds.update(t=>t.filter(t=>t.id!==e))}async function Rs(e,t={}){const n=ls(_s),r={...t.headers||{}},s=(t.method||"GET").toUpperCase(),a=t.body instanceof FormData;["POST","PUT","PATCH"].includes(s)&&!a&&(r["Content-Type"]=r["Content-Type"]||"application/json"),n.authToken&&(r.Authorization=`Bearer ${n.authToken}`);const i=await fetch(e,{...t,headers:r});if(401===i.status)throw zs(),Fs("Session expired — please log in again.","warning"),new Error("Authentication expired");return i}async function Bs(e,t,n){try{const r=await Rs(`${e}/projects/${t}/versions/${n}/uploaded-screens`);if(r.ok){return(await r.json()).sketchIds||[]}}catch{}return[]}function Ys(e){try{const t=new URL(e);return"http:"===t.protocol||"https:"===t.protocol}catch{return!1}}var Hs=vr('<span class="spinner svelte-7cp3og"></span>'),Js=vr("<button><!></button>");const Ks={hash:"svelte-7cp3og",code:".btn.svelte-7cp3og {display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;border:1px solid transparent;border-radius:var(--radius);font-size:13px;font-weight:500;font-family:var(--font);cursor:pointer;transition:all var(--transition);outline:none;text-decoration:none;white-space:nowrap;min-height:34px;}.btn.svelte-7cp3og:focus-visible {box-shadow:0 0 0 2px var(--bg),\n\t\t\t0 0 0 4px var(--ring);}.btn.svelte-7cp3og:disabled {opacity:0.5;cursor:not-allowed;}.btn-primary.svelte-7cp3og {background:var(--primary);color:var(--primary-foreground);}.btn-primary.svelte-7cp3og:hover:not(:disabled) {background:var(--primary-hover);}.btn-secondary.svelte-7cp3og {background:var(--bg);color:var(--text);border-color:var(--border);}.btn-secondary.svelte-7cp3og:hover:not(:disabled) {background:var(--accent);color:var(--accent-foreground);}.btn-ghost.svelte-7cp3og {background:transparent;color:var(--text-secondary);padding:6px 8px;}.btn-ghost.svelte-7cp3og:hover:not(:disabled) {color:var(--text);background:var(--accent);}.btn-danger.svelte-7cp3og {background:var(--error);color:#fff;}.btn-danger.svelte-7cp3og:hover:not(:disabled) {opacity:0.9;}.btn-block.svelte-7cp3og {width:100%;}.btn-sm.svelte-7cp3og {padding:5px 10px;font-size:12px;min-height:28px;}.btn-icon.svelte-7cp3og {width:30px;height:30px;padding:0;border-radius:6px;}.spinner.svelte-7cp3og {width:16px;height:16px;border:2px solid rgba(255, 255, 255, 0.3);border-top-color:#fff;border-radius:50%;\n\t\tanimation: svelte-7cp3og-spin 600ms linear infinite;}.btn-secondary.svelte-7cp3og .spinner:where(.svelte-7cp3og),\n\t.btn-ghost.svelte-7cp3og .spinner:where(.svelte-7cp3og) {border-color:var(--border);border-top-color:var(--text);}\n\n\t@keyframes svelte-7cp3og-spin {\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}"};function Gs(e,t){Lr(e,Ks);let n=ps(t,"variant",8,"primary"),r=ps(t,"size",8,"default"),s=ps(t,"block",8,!1),a=ps(t,"disabled",8,!1),i=ps(t,"loading",8,!1),o=ps(t,"type",8,"button");var l=Js();let c;var u=Qt(l),d=e=>{mr(e,Hs())},v=e=>{var n=gr();Ir(Xt(n),t,"default",{}),mr(e,n)};qr(u,e=>{i()?e(d):e(v,!1)}),hn(()=>{var e;Kr(l,"type",o()),l.disabled=a(),c=Fr(l,0,`btn btn-${null!=(e=n())?e:""} ${"sm"===r()?"btn-sm":""} ${"icon"===r()?"btn-icon":""} ${s()?"btn-block":""}`,"svelte-7cp3og",c,{loading:i()})}),or("click",l,function(e){rs.call(this,t,e)}),or("keydown",l,function(e){rs.call(this,t,e)}),mr(e,l)}var Zs=vr('<label class="form-label svelte-2isa9k"> </label>'),Qs=fr('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>'),Xs=fr('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>'),ea=vr('<button class="toggle-password svelte-2isa9k" type="button" tabindex="-1"><!></button>'),ta=vr('<p class="form-hint svelte-2isa9k"> </p>'),na=vr('<div class="form-group svelte-2isa9k"><!> <div class="input-wrapper svelte-2isa9k"><input class="form-input svelte-2isa9k"/> <!></div> <!></div>');const ra={hash:"svelte-2isa9k",code:".form-group.svelte-2isa9k {margin-bottom:14px;}.form-label.svelte-2isa9k {display:block;font-size:13px;font-weight:500;color:var(--text);margin-bottom:6px;}.input-wrapper.svelte-2isa9k {position:relative;}.form-input.svelte-2isa9k {width:100%;padding:8px 10px;border:1px solid var(--input);border-radius:var(--radius);font-size:13px;font-family:var(--font);color:var(--text);background:transparent;transition:border-color var(--transition),\n\t\t\tbox-shadow var(--transition);outline:none;}.form-input.svelte-2isa9k:focus {border-color:var(--ring);box-shadow:0 0 0 2px var(--bg),\n\t\t\t0 0 0 4px var(--ring);}.form-input.svelte-2isa9k::placeholder {color:var(--text-muted);}.form-hint.svelte-2isa9k {font-size:11px;color:var(--text-muted);margin-top:4px;}.toggle-password.svelte-2isa9k {position:absolute;right:8px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:var(--text-muted);padding:2px;display:flex;align-items:center;}.toggle-password.svelte-2isa9k:hover {color:var(--text-secondary);}"};function sa(e,t){Ye(t,!1),Lr(e,ra);const n=At();let r=ps(t,"label",8,""),s=ps(t,"type",8,"text"),a=ps(t,"placeholder",8,""),i=ps(t,"value",12,""),o=ps(t,"hint",8,""),l=ps(t,"disabled",8,!1),c=ps(t,"showPasswordToggle",8,!1),u=At(!1),d=`input-${Math.random().toString(36).slice(2,9)}`;vn(()=>(tr(s()),Zn(u)),()=>{Ot(n,"password"===s()&&Zn(u)?"text":s())}),pn(),ts();var v=na(),p=Qt(v),f=e=>{var t=Zs(),n=Qt(t);hn(()=>{Kr(t,"for",d),wr(n,r())}),mr(e,t)};qr(p,e=>{r()&&e(f)});var h=en(p,2),g=Qt(h),m=en(g,2),b=e=>{var t=ea(),n=Qt(t),r=e=>{mr(e,Qs())},s=e=>{mr(e,Xs())};qr(n,e=>{Zn(u)?e(r):e(s,!1)}),hn(()=>Kr(t,"title",Zn(u)?"Hide password":"Show password")),or("click",t,()=>Ot(u,!Zn(u))),mr(e,t)};qr(m,e=>{"password"===s()&&c()&&e(b)});var w=en(h,2),x=e=>{var t=ta(),n=Qt(t);hn(()=>wr(n,o())),mr(e,t)};qr(w,e=>{o()&&e(x)}),hn(()=>{Kr(g,"id",d),Kr(g,"type",Zn(n)),Kr(g,"placeholder",a()),g.disabled=l()}),Qr(g,i),or("input",g,function(e){rs.call(this,t,e)}),or("keydown",g,function(e){rs.call(this,t,e)}),mr(e,v),He()}var aa=vr("<div> </div>");const ia={hash:"svelte-9os5fq",code:".alert.svelte-9os5fq {padding:10px 12px;border-radius:var(--radius);font-size:12px;font-weight:500;margin-bottom:12px;border:1px solid transparent;\n\t\tanimation: svelte-9os5fq-fadeIn 150ms ease;}.alert-error.svelte-9os5fq {background:var(--error-light);border-color:var(--error);color:#991b1b;}.alert-success.svelte-9os5fq {background:var(--success-light);border-color:var(--success);color:#065f46;}.alert-warning.svelte-9os5fq {background:var(--warning-light);border-color:var(--warning);color:#92400e;}[data-theme='dark'] .alert-error {color:var(--error);}[data-theme='dark'] .alert-success {color:var(--success);}[data-theme='dark'] .alert-warning {color:var(--warning);}\n\n\t@keyframes svelte-9os5fq-fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(-4px);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}"};function oa(e,t){Lr(e,ia);let n=ps(t,"type",8,"error"),r=ps(t,"message",8,""),s=ps(t,"show",8,!1);var a=gr(),i=Xt(a),o=e=>{var t=aa(),s=Qt(t);hn(()=>{var e;Fr(t,0,`alert alert-${null!=(e=n())?e:""}`,"svelte-9os5fq"),wr(s,r())}),mr(e,t)};qr(i,e=>{s()&&r()&&e(o)}),mr(e,a)}var la=vr("<!> <!>",1),ca=vr('<div class="connect-view svelte-3sr4mt"><div class="welcome svelte-3sr4mt"><div class="welcome-icon svelte-3sr4mt">🌉</div> <h2 class="svelte-3sr4mt">Welcome to Flow</h2> <p class="text-secondary svelte-3sr4mt">Connect to your Flow server to start publishing designs.</p></div> <!> <!> <div class="divider svelte-3sr4mt"></div> <div class="auth-header svelte-3sr4mt"><span class="section-title svelte-3sr4mt">Account</span> <!></div> <!> <!> <!> <!></div>');const ua={hash:"svelte-3sr4mt",code:".connect-view.svelte-3sr4mt {\n\t\tanimation: svelte-3sr4mt-fadeIn 200ms ease;}.welcome.svelte-3sr4mt {text-align:center;margin-bottom:20px;}.welcome-icon.svelte-3sr4mt {font-size:36px;margin-bottom:8px;}.welcome.svelte-3sr4mt h2:where(.svelte-3sr4mt) {font-size:17px;font-weight:600;letter-spacing:-0.3px;margin-bottom:4px;}.welcome.svelte-3sr4mt .text-secondary:where(.svelte-3sr4mt) {color:var(--text-muted);font-size:12px;}.divider.svelte-3sr4mt {height:1px;background:var(--border);margin:16px 0;}.auth-header.svelte-3sr4mt {display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;}.section-title.svelte-3sr4mt {font-size:13px;font-weight:500;color:var(--text-secondary);}\n\n\t@keyframes svelte-3sr4mt-fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(4px);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}"};function da(e,t){Ye(t,!1),Lr(e,ua);const n=()=>ds(_s,"$appState",r),[r,s]=vs(),a=At();let i=At(n().serverUrl),o=At(""),l=At(""),c=At(""),u=At(""),d=At(!1),v=At("");async function p(){Ot(v,"");const e=Zn(i).replace(/\/+$/,"");if(e)if(Ys(e))if(Zn(o)&&Zn(l))if("register"===Zn(a)&&Zn(l).length<6)Ot(v,"Password must be at least 6 characters.");else if("register"===Zn(a)&&Zn(c).length<3)Ot(v,"Username must be at least 3 characters.");else if("register"!==Zn(a)||/^[a-zA-Z0-9_-]+$/.test(Zn(c))){Ot(d,!0);try{const t=await async function(e){try{const t=new AbortController,n=setTimeout(()=>t.abort(),5e3),r=await fetch(`${e}/health`,{signal:t.signal}).catch(()=>null);return clearTimeout(n),null!==r&&r.ok}catch{return!1}}(e);if(!t)return Ot(v,"Server is unreachable. Please check the URL and try again."),void Ot(d,!1);const n="register"===Zn(a)?await async function(e,t,n,r,s){const a=await Rs(`${e}/auth/register`,{method:"POST",body:JSON.stringify({email:t,username:n,password:r,name:s||void 0})});if(!a.ok){const e=await a.json().catch(()=>({error:`Server returned ${a.status}`}));throw new Error(e.error||`Server returned ${a.status}`)}return a.json()}(e,Zn(o),Zn(c),Zn(l),Zn(u)||void 0):await async function(e,t,n){const r=await Rs(`${e}/auth/login`,{method:"POST",body:JSON.stringify({email:t,password:n})});if(!r.ok){const e=await r.json().catch(()=>({error:`Server returned ${r.status}`}));throw new Error(e.error||`Server returned ${r.status}`)}return r.json()}(e,Zn(o),Zn(l));js({serverUrl:e,authToken:n.token,userEmail:n.user.email,userName:n.user.name||""}),gs("saveServerUrl",e),gs("saveAuth",JSON.stringify({token:n.token,email:n.user.email,name:n.user.name||""})),Fs("register"===Zn(a)?"Account created! Welcome to Flow.":"Logged in successfully.","success"),$s("projects")}catch(t){Ot(v,t.message||"Could not connect to server.")}finally{Ot(d,!1)}}else Ot(v,"Username can only contain letters, numbers, underscores, and dashes.");else Ot(v,"Please enter email and password.");else Ot(v,"Please enter a valid URL (http:// or https://).");else Ot(v,"Please enter the server URL.")}function f(e){"Enter"===e.key&&p()}vn(()=>n(),()=>{Ot(a,n().authMode)}),pn(),ts();var h=ca(),g=en(Qt(h),2);{let e=St(()=>!!Zn(v));oa(g,{type:"error",get message(){return Zn(v)},get show(){return Zn(e)}})}var m=en(g,2);sa(m,{label:"Server URL",type:"url",placeholder:"http://localhost:4400",hint:"The URL of your Flow server instance",get value(){return Zn(i)},set value(e){Ot(i,e)},$$events:{keydown:f},$$legacy:!0});var b=en(m,4);Gs(en(Qt(b),2),{variant:"ghost",size:"sm",$$events:{click:function(){js({authMode:"login"===Zn(a)?"register":"login"}),Ot(v,"")}},children:(e,t)=>{var n=hr();hn(()=>wr(n,"login"===Zn(a)?"Need an account? Register":"Already have an account? Login")),mr(e,n)},$$slots:{default:!0}});var w=en(b,2);sa(w,{label:"Email",type:"email",placeholder:"you@company.com",get value(){return Zn(o)},set value(e){Ot(o,e)},$$events:{keydown:f},$$legacy:!0});var x=en(w,2);sa(x,{label:"Password",type:"password",placeholder:"••••••••",showPasswordToggle:!0,get value(){return Zn(l)},set value(e){Ot(l,e)},$$events:{keydown:f},$$legacy:!0});var y=en(x,2),k=e=>{var t=la(),n=Xt(t);sa(n,{label:"Username",type:"text",placeholder:"your_username",hint:"3-30 characters, letters, numbers, _ and -",get value(){return Zn(c)},set value(e){Ot(c,e)},$$events:{keydown:f},$$legacy:!0}),sa(en(n,2),{label:"Name (optional)",type:"text",placeholder:"Your name",get value(){return Zn(u)},set value(e){Ot(u,e)},$$events:{keydown:f},$$legacy:!0}),mr(e,t)};qr(y,e=>{"register"===Zn(a)&&e(k)}),Gs(en(y,2),{variant:"primary",block:!0,get loading(){return Zn(d)},$$events:{click:p},children:(e,t)=>{var n=hr();hn(()=>wr(n,"register"===Zn(a)?"Register":"Login")),mr(e,n)},$$slots:{default:!0}}),mr(e,h),He(),s()}var va=vr("<span><!></span>");const pa={hash:"svelte-16bhghv",code:".badge.svelte-16bhghv {display:inline-block;padding:2px 8px;border-radius:99px;font-size:11px;font-weight:500;border:1px solid transparent;}.badge-default.svelte-16bhghv {background:var(--primary);color:var(--primary-foreground);}.badge-secondary.svelte-16bhghv {background:var(--accent);color:var(--text-secondary);border-color:var(--border);}.badge-success.svelte-16bhghv {background:var(--success-light);color:var(--success);}.badge-destructive.svelte-16bhghv {background:var(--error-light);color:var(--error);}"};function fa(e,t){Lr(e,pa);let n=ps(t,"variant",8,"default");var r=va();Ir(Qt(r),t,"default",{}),hn(()=>{var e;return Fr(r,0,`badge badge-${null!=(e=n())?e:""}`,"svelte-16bhghv")}),mr(e,r)}var ha=vr('<div class="card create-form svelte-1vmhug3"><!> <!> <div class="create-actions svelte-1vmhug3"><!> <!></div></div>'),ga=vr('<div class="search-wrapper svelte-1vmhug3"><input class="search-input svelte-1vmhug3" type="text" placeholder="Search projects…"/></div>'),ma=vr('<div class="loading-state svelte-1vmhug3"><div class="spinner svelte-1vmhug3"></div> <span class="text-secondary svelte-1vmhug3">Loading projects…</span></div>'),ba=vr('<div class="empty-state svelte-1vmhug3"><div class="empty-icon svelte-1vmhug3">📁</div> <p>No projects yet.</p> <p class="text-sm text-secondary svelte-1vmhug3">Create your first project to start publishing designs.</p></div>'),wa=vr('<div class="empty-state svelte-1vmhug3"><p class="text-secondary svelte-1vmhug3">No matching projects.</p></div>'),xa=vr('<button class="card card-clickable svelte-1vmhug3"><div class="card-content svelte-1vmhug3"><div class="card-left svelte-1vmhug3"><div class="card-title svelte-1vmhug3"> </div> <div class="card-meta svelte-1vmhug3"> </div></div> <!></div></button>'),ya=vr('<div class="projects-list svelte-1vmhug3"></div>'),ka=vr('<div class="projects-view svelte-1vmhug3"><div class="projects-header svelte-1vmhug3"><span class="section-title svelte-1vmhug3">Your Projects</span> <!></div> <!> <!> <!> <!></div>');const qa={hash:"svelte-1vmhug3",code:".projects-view.svelte-1vmhug3 {\n\t\tanimation: svelte-1vmhug3-fadeIn 200ms ease;}.projects-header.svelte-1vmhug3 {display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}.section-title.svelte-1vmhug3 {font-size:13px;font-weight:500;color:var(--text-secondary);}.card.svelte-1vmhug3 {border:1px solid var(--border);border-radius:var(--radius-lg);padding:14px;background:var(--bg);transition:border-color var(--transition);}.create-form.svelte-1vmhug3 {margin-bottom:12px;}.create-form.svelte-1vmhug3 .form-group {margin-bottom:8px;}.create-actions.svelte-1vmhug3 {display:flex;gap:8px;}.search-wrapper.svelte-1vmhug3 {margin-bottom:12px;}.search-input.svelte-1vmhug3 {width:100%;padding:7px 10px;border:1px solid var(--input);border-radius:var(--radius);font-size:12px;font-family:var(--font);color:var(--text);background:transparent;outline:none;transition:border-color var(--transition),\n\t\t\tbox-shadow var(--transition);}.search-input.svelte-1vmhug3:focus {border-color:var(--ring);box-shadow:0 0 0 2px var(--bg),\n\t\t\t0 0 0 4px var(--ring);}.search-input.svelte-1vmhug3::placeholder {color:var(--text-muted);}.projects-list.svelte-1vmhug3 {display:flex;flex-direction:column;gap:8px;}.card-clickable.svelte-1vmhug3 {cursor:pointer;text-align:left;font-family:var(--font);font-size:13px;width:100%;}.card-clickable.svelte-1vmhug3:hover {border-color:var(--ring);background:var(--surface);}.card-content.svelte-1vmhug3 {display:flex;justify-content:space-between;align-items:center;}.card-left.svelte-1vmhug3 {flex:1;min-width:0;}.card-title.svelte-1vmhug3 {font-size:13px;font-weight:500;color:var(--text);}.card-meta.svelte-1vmhug3 {font-size:12px;color:var(--text-muted);margin-top:2px;}.loading-state.svelte-1vmhug3 {display:flex;flex-direction:column;align-items:center;gap:10px;padding:32px 16px;}.spinner.svelte-1vmhug3 {width:24px;height:24px;border:2.5px solid var(--border);border-top-color:var(--text-secondary);border-radius:50%;\n\t\tanimation: svelte-1vmhug3-spin 600ms linear infinite;}.text-secondary.svelte-1vmhug3 {color:var(--text-secondary);font-size:12px;}.text-sm.svelte-1vmhug3 {font-size:12px;}.empty-state.svelte-1vmhug3 {text-align:center;padding:32px 16px;color:var(--text-muted);}.empty-icon.svelte-1vmhug3 {font-size:36px;margin-bottom:8px;opacity:0.3;}\n\n\t@keyframes svelte-1vmhug3-spin {\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@keyframes svelte-1vmhug3-fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(4px);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}"};function $a(e,t){Ye(t,!1),Lr(e,qa);const n=()=>ds(_s,"$appState",r),[r,s]=vs(),a=At(),i=At();let o=At(!0),l=At(""),c=At(!1),u=At(""),d=At(""),v=At(!1),p=At("");function f(e,t){js({selectedProjectId:e,selectedProjectName:t}),gs("saveLastProject",e),$s("publish")}async function h(){if(Zn(u).trim()){Ot(v,!0),Ot(l,"");try{const e=await async function(e,t,n){const r=await Rs(`${e}/projects`,{method:"POST",body:JSON.stringify({name:t,description:n||void 0})});if(!r.ok){const e=await r.json().catch(()=>({error:"Failed to create project"}));throw new Error(e.error||"Failed to create project")}return(await r.json()).project}(n().serverUrl,Zn(u).trim(),Zn(d).trim()||void 0);Fs(`Project "${e.name}" created!`,"success"),Ot(c,!1),Ot(u,""),Ot(d,""),f(e.id,e.name)}catch(e){Ot(l,e.message)}finally{Ot(v,!1)}}else Ot(l,"Please enter a project name.")}fs(()=>{!async function(){Ot(o,!0),Ot(l,"");try{js({projects:await async function(e){const t=await Rs(`${e}/projects`);if(!t.ok)throw new Error("Failed to load projects");return(await t.json()).projects||[]}(n().serverUrl)})}catch(e){Ot(l,e.message||"Failed to load projects")}finally{Ot(o,!1)}}()}),vn(()=>n(),()=>{Ot(a,n().projects)}),vn(()=>(Zn(p),Zn(a)),()=>{Ot(i,Zn(p)?Zn(a).filter(e=>e.name.toLowerCase().includes(Zn(p).toLowerCase())||(e.description||"").toLowerCase().includes(Zn(p).toLowerCase())):Zn(a))}),pn(),ts();var g=ka();or("keydown",Bt,function(e){"Enter"===e.key&&Zn(c)&&h(),"Escape"===e.key&&Ot(c,!1)});var m=Qt(g);Gs(en(Qt(m),2),{variant:"primary",size:"sm",$$events:{click:()=>Ot(c,!0)},children:(e,t)=>{mr(e,hr("+ New"))},$$slots:{default:!0}});var b=en(m,2);{let e=St(()=>!!Zn(l));oa(b,{type:"error",get message(){return Zn(l)},get show(){return Zn(e)}})}var w=en(b,2),x=e=>{var t=ha(),n=Qt(t);sa(n,{placeholder:"Project name",get value(){return Zn(u)},set value(e){Ot(u,e)},$$legacy:!0});var r=en(n,2);sa(r,{placeholder:"Description (optional)",get value(){return Zn(d)},set value(e){Ot(d,e)},$$legacy:!0});var s=Qt(en(r,2));Gs(s,{variant:"primary",size:"sm",get loading(){return Zn(v)},$$events:{click:h},children:(e,t)=>{mr(e,hr("Create"))},$$slots:{default:!0}}),Gs(en(s,2),{variant:"secondary",size:"sm",$$events:{click:()=>Ot(c,!1)},children:(e,t)=>{mr(e,hr("Cancel"))},$$slots:{default:!0}}),mr(e,t)};qr(w,e=>{Zn(c)&&e(x)});var y=en(w,2),k=e=>{var t=ga();Qr(Qt(t),()=>Zn(p),e=>Ot(p,e)),mr(e,t)};qr(y,e=>{Zn(a),er(()=>Zn(a).length>3)&&e(k)});var q=en(y,2),$=e=>{mr(e,ma())},_=e=>{var t=gr(),n=Xt(t),r=e=>{mr(e,ba())},s=e=>{var t=gr(),n=Xt(t),r=e=>{mr(e,wa())},s=e=>{var t=ya();zr(t,5,()=>Zn(i),e=>e.id,(e,t)=>{var n=xa(),r=Qt(n),s=Qt(r),a=Qt(s),i=Qt(a),o=Qt(en(a,2));fa(en(s,2),{variant:"secondary",children:(e,n)=>{var r=hr();hn(()=>{var e;return wr(r,`${null!=(Zn(t),e=er(()=>Zn(t)._count?Zn(t)._count.versions:0))?e:""} versions`)}),mr(e,r)},$$slots:{default:!0}}),hn(()=>{var e;wr(i,`📁 ${null!=(Zn(t),e=er(()=>Zn(t).name))?e:""}`),wr(o,(Zn(t),er(()=>Zn(t).description||"No description")))}),or("click",n,()=>f(Zn(t).id,Zn(t).name)),mr(e,n)}),mr(e,t)};qr(n,e=>{Zn(i),er(()=>0===Zn(i).length)?e(r):e(s,!1)},!0),mr(e,t)};qr(n,e=>{Zn(i),Zn(a),er(()=>0===Zn(i).length&&0===Zn(a).length)?e(r):e(s,!1)},!0),mr(e,t)};qr(q,e=>{Zn(o)?e($):e(_,!1)}),mr(e,g),He(),s()}var _a=fr('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5m7-7l-7 7 7 7"></path></svg>'),ja=vr('<div class="loading-state svelte-q4nu4q"><div class="spinner svelte-q4nu4q"></div> <span class="text-secondary svelte-q4nu4q">Extracting document…</span></div>'),za=fr('<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 4v6h6"></path><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg> Refresh',1),Sa=fr('<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 5v14M5 12h14"></path></svg> New version',1),Pa=vr('<div class="version-loading svelte-q4nu4q"><div class="spinner-sm svelte-q4nu4q"></div> <span class="text-secondary text-xs svelte-q4nu4q">Loading versions…</span></div>'),Ma=vr("<option> </option>"),Ea=vr('<select class="version-select svelte-q4nu4q"><option>New version</option><!></select>'),Ia=vr('<div class="version-loading svelte-q4nu4q"><div class="spinner-sm svelte-q4nu4q"></div> <span class="text-secondary text-xs svelte-q4nu4q">Checking uploaded screens…</span></div>'),Ta=vr('<div class="version-note svelte-q4nu4q"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> <span> </span></div>'),Ua=vr('<label class="check-item svelte-q4nu4q"><input type="checkbox" class="svelte-q4nu4q"/> <span class="artboard-label svelte-q4nu4q"> <span class="text-xs text-secondary svelte-q4nu4q"> </span> <!> <!></span></label>'),Ca=vr('<div class="page-group svelte-q4nu4q"><label class="check-item check-group-header svelte-q4nu4q"><input type="checkbox" class="svelte-q4nu4q"/> <span> <span class="text-secondary text-xs svelte-q4nu4q"> </span></span></label> <div class="check-group svelte-q4nu4q"></div></div>'),Na=vr('<div class="doc-info card svelte-q4nu4q"><div class="doc-info-content svelte-q4nu4q"><div><div class="card-title svelte-q4nu4q"> </div> <div class="card-meta svelte-q4nu4q"> </div></div> <!></div></div> <div class="version-section card svelte-q4nu4q"><div class="version-header svelte-q4nu4q"><div class="version-label svelte-q4nu4q">Version</div> <!></div> <!> <!></div> <div class="select-actions svelte-q4nu4q"><label class="check-item svelte-q4nu4q"><input type="checkbox" class="svelte-q4nu4q"/> <span class="text-sm svelte-q4nu4q"> </span></label></div> <!> <div class="publish-options svelte-q4nu4q"><label class="check-item svelte-q4nu4q"><input type="checkbox" id="opt-tokens" checked="" class="svelte-q4nu4q"/> <span>Include design tokens (colors, text styles)</span></label></div>',1),Aa=vr('<div class="publish-view svelte-q4nu4q"><div class="publish-header svelte-q4nu4q"><!> <div><div class="section-title svelte-q4nu4q">Publish to</div> <div class="project-name svelte-q4nu4q"> </div></div></div> <!> <!></div>');const Oa={hash:"svelte-q4nu4q",code:".publish-view.svelte-q4nu4q {\n\t\tanimation: svelte-q4nu4q-fadeIn 200ms ease;}.publish-header.svelte-q4nu4q {display:flex;align-items:center;gap:8px;margin-bottom:12px;}.section-title.svelte-q4nu4q {font-size:11px;font-weight:500;color:var(--text-muted);margin:0;}.project-name.svelte-q4nu4q {font-weight:600;font-size:14px;letter-spacing:-0.2px;}.card.svelte-q4nu4q {border:1px solid var(--border);border-radius:var(--radius-lg);padding:14px;background:var(--bg);margin-bottom:12px;}.doc-info-content.svelte-q4nu4q {display:flex;justify-content:space-between;align-items:center;}.card-title.svelte-q4nu4q {font-size:13px;font-weight:500;color:var(--text);}.card-meta.svelte-q4nu4q {font-size:12px;color:var(--text-muted);margin-top:2px;}.version-section.svelte-q4nu4q {padding:12px 14px;}.version-header.svelte-q4nu4q {display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;}.version-label.svelte-q4nu4q {font-size:13px;font-weight:500;color:var(--text-secondary);}.version-select.svelte-q4nu4q {width:100%;padding:7px 10px;border:1px solid var(--input);border-radius:var(--radius);font-size:12px;font-family:var(--font);color:var(--text);background:transparent;outline:none;cursor:pointer;transition:border-color var(--transition),\n\t\t\tbox-shadow var(--transition);-webkit-appearance:none;appearance:none;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23a1a1aa' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-position:right 8px center;padding-right:28px;}.version-select.svelte-q4nu4q:focus {border-color:var(--ring);box-shadow:0 0 0 2px var(--bg),\n\t\t\t0 0 0 4px var(--ring);}.version-note.svelte-q4nu4q {display:flex;align-items:center;gap:6px;margin-top:8px;padding:6px 8px;border-radius:var(--radius);background:var(--success-light);color:var(--success);font-size:11px;font-weight:500;}.version-loading.svelte-q4nu4q {display:flex;align-items:center;gap:6px;padding:6px 0;}.spinner-sm.svelte-q4nu4q {width:14px;height:14px;border:2px solid var(--border);border-top-color:var(--text-secondary);border-radius:50%;\n\t\tanimation: svelte-q4nu4q-spin 600ms linear infinite;}.select-actions.svelte-q4nu4q {margin-bottom:4px;padding:4px 0;border-bottom:1px solid var(--border);}.check-item.svelte-q4nu4q {display:flex;align-items:center;gap:8px;padding:6px 0;font-size:13px;cursor:pointer;}.check-item.svelte-q4nu4q input[type='checkbox']:where(.svelte-q4nu4q) {width:16px;height:16px;accent-color:var(--color-blue-600);flex-shrink:0;cursor:pointer;}.check-group-header.svelte-q4nu4q {font-weight:500;color:var(--text);padding:8px 0 4px;}.check-group.svelte-q4nu4q {margin-left:24px;}.artboard-label.svelte-q4nu4q {display:flex;align-items:center;gap:6px;flex-wrap:wrap;}.page-group.svelte-q4nu4q {margin-bottom:4px;}.publish-options.svelte-q4nu4q {margin-top:12px;padding-top:8px;border-top:1px solid var(--border);}.text-secondary.svelte-q4nu4q {color:var(--text-secondary);}.text-xs.svelte-q4nu4q {font-size:11px;}.text-sm.svelte-q4nu4q {font-size:12px;}.loading-state.svelte-q4nu4q {display:flex;flex-direction:column;align-items:center;gap:10px;padding:32px 16px;}.spinner.svelte-q4nu4q {width:24px;height:24px;border:2.5px solid var(--border);border-top-color:var(--text-secondary);border-radius:50%;\n\t\tanimation: svelte-q4nu4q-spin 600ms linear infinite;}\n\n\t@keyframes svelte-q4nu4q-spin {\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@keyframes svelte-q4nu4q-fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(4px);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}"};function Wa(e,t){Ye(t,!1),Lr(e,Oa);const n=()=>ds(_s,"$appState",s),r=()=>ds(Ss,"$selectedArtboardIds",s),[s,a]=vs(),i=At(),o=At(),l=At(),c=At(),u=At(),d=At(),v=At(),p=At(),f=At(),h=At(),g=At(),m=At(),b=At();let w=At(""),x=At(!0),y=At(!1);async function k(e){const t=e.target.value;if("__new__"===t)return Es(),void(Zn(u).length>0&&Ps(Zn(u)));Ms(t),js({loadingVersionScreens:!0});try{const e=await Bs(n().serverUrl,n().selectedProjectId,t),r=new Set(e);js({alreadyUploadedIds:r,loadingVersionScreens:!1});Ps(Zn(u).filter(e=>!r.has(e)))}catch(r){console.warn("[PublishView] Failed to load uploaded screens:",r.message),js({alreadyUploadedIds:new Set,loadingVersionScreens:!1}),Ps(Zn(u))}}function q(){Es(),Zn(u).length>0&&Ps(Zn(u))}function $(){Ot(x,!0),Ot(w,""),gs("refreshDocument")}function _(){Zn(d)?Ss.set(new Set):Ps(Zn(u))}function j(e){return e.every(e=>r().has(e.id))}function z(e){const t=e.map(e=>e.id),n=j(e);var r,s;r=t,s=!n,Ss.update(e=>{const t=new Set(e);return r.forEach(e=>{s?t.add(e):t.delete(e)}),t})}fs(()=>{const e=ms("documentData",e=>{if(Ot(x,!1),Ot(w,""),!n().selectedVersionId){Ps(e.pages.flatMap(e=>e.artboards.map(e=>e.id)))}}),t=ms("extractError",e=>{Ot(x,!1),Ot(w,e.message)});return gs("extractDocument"),Ot(x,!0),async function(){const e=n().selectedProjectId;if(!e)return;Ot(y,!0);try{const t=await async function(e,t){const n=await Rs(`${e}/projects/${t}`);if(!n.ok)throw new Error("Failed to load project details");return(await n.json()).project}(n().serverUrl,e);js({projectVersions:t.versions||[]}),!n().selectedVersionId&&t.versions&&t.versions.length>0&&Ms(t.versions[0].id)}catch(t){console.warn("[PublishView] Failed to load versions:",t.message),js({projectVersions:[]})}finally{Ot(y,!1)}}(),()=>{e(),t()}}),vn(()=>n(),()=>{Ot(i,n().documentData)}),vn(()=>r(),()=>{Ot(o,r().size)}),vn(()=>Zn(i),()=>{Ot(l,Zn(i)?Zn(i).pages.reduce((e,t)=>e+t.artboards.length,0):0)}),vn(()=>Zn(i),()=>{Ot(c,Zn(i)?Zn(i).pages.reduce((e,t)=>e+t.artboards.reduce((e,t)=>e+t.flowCount,0),0):0)}),vn(()=>Zn(i),()=>{Ot(u,Zn(i)?Zn(i).pages.flatMap(e=>e.artboards.map(e=>e.id)):[])}),vn(()=>(Zn(u),r()),()=>{Ot(d,Zn(u).length>0&&Zn(u).every(e=>r().has(e)))}),vn(()=>n(),()=>{Ot(v,n().projectVersions)}),vn(()=>n(),()=>{Ot(p,n().selectedVersionId)}),vn(()=>n(),()=>{Ot(f,n().alreadyUploadedIds)}),vn(()=>Zn(f),()=>{Ot(h,Zn(f).size)}),vn(()=>n(),()=>{Ot(g,n().loadingVersionScreens)}),vn(()=>(Zn(p),r(),Zn(f),Zn(o)),()=>{Ot(m,Zn(p)?[...r()].filter(e=>!Zn(f).has(e)).length:Zn(o))}),vn(()=>(Zn(p),r(),Zn(f)),()=>{Ot(b,Zn(p)?[...r()].filter(e=>Zn(f).has(e)).length:0)}),pn(),ts();var S=Aa();or("keydown",Bt,function(e){"Escape"===e.key&&$s("projects"),(e.metaKey||e.ctrlKey)&&"a"===e.key&&(e.preventDefault(),_())});var P=Qt(S),M=Qt(P);Gs(M,{variant:"ghost",size:"sm",$$events:{click:()=>$s("projects")},children:(e,t)=>{mr(e,_a())},$$slots:{default:!0}});var E=en(M,2),I=en(Qt(E),2),T=Qt(I),U=en(P,2);{let e=St(()=>!!Zn(w));oa(U,{type:"error",get message(){return Zn(w)},get show(){return Zn(e)}})}var C=en(U,2),N=e=>{mr(e,ja())},A=e=>{var t=gr(),n=Xt(t),s=e=>{var t=Na(),n=Xt(t),s=Qt(n),a=Qt(s),u=Qt(a),m=Qt(u),b=Qt(en(u,2));Gs(en(a,2),{variant:"secondary",size:"sm",$$events:{click:$},children:(e,t)=>{mr(e,za())},$$slots:{default:!0}});var w=en(n,2),x=Qt(w);Gs(en(Qt(x),2),{variant:"secondary",size:"sm",$$events:{click:q},children:(e,t)=>{mr(e,Sa())},$$slots:{default:!0}});var S=en(x,2),P=e=>{mr(e,Pa())},M=e=>{var t,n=Ea(),r=Qt(n);r.value=r.__value="__new__",zr(en(r),3,()=>Zn(v),e=>e.id,(e,t,n)=>{var r=Ma(),s=Qt(r),a={};hn(e=>{var i,o,l,c;wr(s,`v${null!=(Zn(v),tr(Zn(n)),i=er(()=>Zn(v).length-Zn(n)))?i:""}${null!=(Zn(t),o=er(()=>"complete"===Zn(t).status?"":" (uploading)"))?o:""}\n\t\t\t\t\t\t\t— ${null!=e?e:""}${null!=(Zn(t),l=er(()=>Zn(t)._count?` · ${Zn(t)._count.screens} screens`:""))?l:""}`),a!==(Zn(t),a=er(()=>Zn(t).id))&&(r.value=null!=(c=r.__value=(Zn(t),er(()=>Zn(t).id)))?c:"")},[()=>(Zn(t),er(()=>function(e){try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return e}}(Zn(t).createdAt)))]),mr(e,r)}),function(e){var t=new MutationObserver(()=>{Rr(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ln(()=>{t.disconnect()})}(n),hn(()=>{var e;t!==(t=Zn(p)||"__new__")&&(n.value=null!=(e=n.__value=Zn(p)||"__new__")?e:"",Rr(n,Zn(p)||"__new__"))}),or("change",n,k),mr(e,n)};qr(S,e=>{Zn(y)?e(P):e(M,!1)});var E=en(S,2),I=e=>{mr(e,Ia())},T=e=>{var t=gr(),n=Xt(t),r=e=>{var t=Ta(),n=en(Qt(t),2),r=Qt(n);hn(()=>{var e;return wr(r,`${null!=(e=Zn(h))?e:""} screen${1!==Zn(h)?"s":""} already uploaded — check to overwrite`)}),mr(e,t)};qr(n,e=>{Zn(p)&&Zn(h)>0&&e(r)},!0),mr(e,t)};qr(E,e=>{Zn(g)?e(I):e(T,!1)});var U=en(w,2),C=Qt(U),N=Qt(C),A=Qt(en(N,2));zr(en(U,2),1,()=>(Zn(i),er(()=>Zn(i).pages)),e=>e.name,(e,t)=>{var n=gr(),s=Xt(n),a=e=>{var n=Ca(),s=Qt(n),a=Qt(s),i=Qt(en(a,2)),o=Qt(en(i));zr(en(s,2),5,()=>(Zn(t),er(()=>Zn(t).artboards)),e=>e.id,(e,t)=>{var n=Ua(),s=Qt(n),a=Qt(en(s,2)),i=en(a),o=Qt(i),l=en(i,2),c=e=>{fa(e,{variant:"success",children:(e,t)=>{mr(e,hr("Uploaded"))},$$slots:{default:!0}})};qr(l,e=>{Zn(f),Zn(t),er(()=>Zn(f).has(Zn(t).id))&&e(c)});var u=en(l,2),d=e=>{fa(e,{variant:"secondary",children:(e,n)=>{var r=hr();hn(()=>{var e;return wr(r,`${null!=(Zn(t),e=er(()=>Zn(t).flowCount))?e:""} flows`)}),mr(e,r)},$$slots:{default:!0}})};qr(u,e=>{Zn(t),er(()=>Zn(t).flowCount>0)&&e(d)}),hn(e=>{var n,r,i;Jr(s,e),wr(a,`${null!=(Zn(t),n=er(()=>Zn(t).name))?n:""} `),wr(o,`${null!=(Zn(t),r=er(()=>Zn(t).width))?r:""}×${null!=(Zn(t),i=er(()=>Zn(t).height))?i:""}`)},[()=>(r(),Zn(t),er(()=>r().has(Zn(t).id)))]),or("change",s,()=>{return e=Zn(t).id,void Ss.update(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n});var e}),mr(e,n)}),hn(e=>{var n,r;Jr(a,e),wr(i,`${null!=(Zn(t),n=er(()=>Zn(t).name))?n:""} `),wr(o,`(${null!=(Zn(t),r=er(()=>Zn(t).artboards.length))?r:""})`)},[()=>(Zn(t),er(()=>j(Zn(t).artboards)))]),or("change",a,()=>z(Zn(t).artboards)),mr(e,n)};qr(s,e=>{Zn(t),er(()=>Zn(t).artboards.length>0)&&e(a)}),mr(e,n)}),hn(()=>{var e,t,n,r,s,a;wr(m,(Zn(i),er(()=>Zn(i).documentName))),wr(b,`${null!=(Zn(i),e=er(()=>Zn(i).pages.length))?e:""} page${null!=(Zn(i),t=er(()=>1!==Zn(i).pages.length?"s":""))?t:""} ·\n\t\t\t\t\t\t${null!=(n=Zn(l))?n:""} artboard${1!==Zn(l)?"s":""} ·\n\t\t\t\t\t\t${null!=(r=Zn(c))?r:""} prototype link${1!==Zn(c)?"s":""}`),Jr(N,Zn(d)),wr(A,`${Zn(d)?"Deselect all":"Select all"} (${null!=(s=Zn(o))?s:""}/${null!=(a=Zn(l))?a:""})`)}),or("change",N,_),mr(e,t)};qr(n,e=>{Zn(i)&&e(s)},!0),mr(e,t)};qr(C,e=>{Zn(x)?e(N):e(A,!1)}),hn(()=>wr(T,(n(),er(()=>n().selectedProjectName)))),mr(e,S),He(),a()}var La=vr('<div class="progress-bar svelte-1dlms10"><div class="progress-fill svelte-1dlms10"></div></div>');const Da={hash:"svelte-1dlms10",code:".progress-bar.svelte-1dlms10 {width:100%;height:6px;background:var(--accent);border-radius:99px;overflow:hidden;}.progress-fill.svelte-1dlms10 {height:100%;background:var(--primary);border-radius:99px;transition:width 300ms ease;}"};function Fa(e,t){Lr(e,Da);let n=ps(t,"percent",8,0);var r=La(),s=Qt(r);hn(()=>{var e;return Vr(s,`width: ${null!=(e=n())?e:""}%`)}),mr(e,r)}function Va(e){var t;return null!=(t={creating:0,screens:1,tokens:2,finalizing:3,done:4,failed:-1}[e])?t:-1}var Ra=vr('<span class="text-xs text-error svelte-ilqnti"> </span>'),Ba=vr('<div><span class="status-icon svelte-ilqnti"> </span> <span class="artboard-name svelte-ilqnti"> </span> <!></div>'),Ya=vr('<div class="artboard-status-list svelte-ilqnti"></div>'),Ha=vr('<div class="error-state svelte-ilqnti"><div class="error-icon svelte-ilqnti">✕</div> <h3 class="svelte-ilqnti">Publish Failed</h3> <p class="text-secondary text-sm svelte-ilqnti"> </p></div> <!> <div class="progress-meta svelte-ilqnti"><span class="text-xs text-secondary svelte-ilqnti"> </span> <span class="text-xs text-secondary svelte-ilqnti"> </span></div> <!> <div class="resume-actions svelte-ilqnti"><p class="text-sm text-secondary resume-info svelte-ilqnti"> </p> <!> <!></div>',1),Ja=vr('<span class="step-spinner svelte-ilqnti"></span>'),Ka=vr('<li><span class="step-icon svelte-ilqnti"><!></span> </li>'),Ga=vr('<span class="mini-spinner svelte-ilqnti"></span>'),Za=vr('<div><span class="status-icon svelte-ilqnti"><!></span> <span class="artboard-name svelte-ilqnti"> </span> <span class="text-xs text-muted svelte-ilqnti"> </span></div>'),Qa=vr('<div class="artboard-status-list compact svelte-ilqnti"></div>'),Xa=vr('<p class="patience-msg svelte-ilqnti">This may take a while for large documents — please don\'t close the window.</p>'),ei=vr('<div class="active-state svelte-ilqnti"><div class="spinner-large svelte-ilqnti"></div> <h3 class="svelte-ilqnti">Publishing…</h3> <p class="text-secondary text-sm svelte-ilqnti"> </p></div> <!> <div class="progress-meta svelte-ilqnti"><span class="text-xs text-secondary svelte-ilqnti"> </span> <span class="text-xs text-secondary svelte-ilqnti"> </span></div> <ul class="progress-steps svelte-ilqnti"></ul> <!> <!> <div class="cancel-action svelte-ilqnti"><!></div>',1),ti=vr('<div class="progress-view svelte-ilqnti"><!></div>');const ni={hash:"svelte-ilqnti",code:".progress-view.svelte-ilqnti {\n\t\tanimation: svelte-ilqnti-fadeIn 200ms ease;}.active-state.svelte-ilqnti,\n\t.error-state.svelte-ilqnti {text-align:center;margin-top:16px;margin-bottom:12px;}.active-state.svelte-ilqnti h3:where(.svelte-ilqnti),\n\t.error-state.svelte-ilqnti h3:where(.svelte-ilqnti) {font-size:16px;font-weight:600;margin-bottom:4px;}.spinner-large.svelte-ilqnti {margin:0 auto 12px;width:32px;height:32px;border:3px solid var(--border);border-top-color:var(--text-secondary);border-radius:50%;\n\t\tanimation: svelte-ilqnti-spin 600ms linear infinite;}.error-icon.svelte-ilqnti {width:48px;height:48px;border-radius:50%;background:var(--error-light);color:var(--error);display:flex;align-items:center;justify-content:center;margin:0 auto 12px;font-size:24px;font-weight:700;}.progress-meta.svelte-ilqnti {display:flex;justify-content:space-between;align-items:center;margin-top:8px;}.progress-steps.svelte-ilqnti {list-style:none;margin:16px 0 0;padding:0;}.progress-step.svelte-ilqnti {padding:6px 0;font-size:12px;color:var(--text-muted);display:flex;align-items:center;gap:8px;transition:color 200ms ease;}.progress-step.active.svelte-ilqnti {color:var(--text);font-weight:500;}.progress-step.done.svelte-ilqnti {color:var(--success);}.step-icon.svelte-ilqnti {width:18px;height:18px;flex-shrink:0;display:flex;align-items:center;justify-content:center;}.step-spinner.svelte-ilqnti {width:14px;height:14px;border:2px solid var(--border);border-top-color:var(--text-secondary);border-radius:50%;\n\t\tanimation: svelte-ilqnti-spin 600ms linear infinite;}.artboard-status-list.svelte-ilqnti {margin-top:12px;max-height:200px;overflow-y:auto;border:1px solid var(--border);border-radius:var(--radius);padding:4px;}.artboard-status-list.compact.svelte-ilqnti {max-height:140px;font-size:11px;}.artboard-status.svelte-ilqnti {display:flex;align-items:center;gap:6px;padding:4px 8px;border-radius:4px;margin-bottom:5px;}.artboard-status.active.svelte-ilqnti {color:var(--text);background:var(--accent);}.artboard-status.done.svelte-ilqnti {color:var(--success);}.artboard-status.failed.svelte-ilqnti {color:var(--error);}.status-icon.svelte-ilqnti {width:14px;flex-shrink:0;text-align:center;}.artboard-name.svelte-ilqnti {flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.mini-spinner.svelte-ilqnti {display:inline-block;width:10px;height:10px;border:1.5px solid var(--border);border-top-color:var(--text-secondary);border-radius:50%;\n\t\tanimation: svelte-ilqnti-spin 600ms linear infinite;}.patience-msg.svelte-ilqnti {text-align:center;font-size:11px;color:var(--text-muted);margin-top:12px;\n\t\tanimation: svelte-ilqnti-pulse 2s ease-in-out infinite;}.resume-actions.svelte-ilqnti {margin-top:20px;display:flex;flex-direction:column;gap:8px;align-items:center;}.resume-info.svelte-ilqnti {text-align:center;max-width:280px;}.cancel-action.svelte-ilqnti {text-align:center;margin-top:16px;}.text-secondary.svelte-ilqnti {color:var(--text-secondary);}.text-muted.svelte-ilqnti {color:var(--text-muted);}.text-error.svelte-ilqnti {color:var(--error);}.text-xs.svelte-ilqnti {font-size:11px;}.text-sm.svelte-ilqnti {font-size:12px;}\n\n\t@keyframes svelte-ilqnti-spin {\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@keyframes svelte-ilqnti-pulse {\n\t\t0%,\n\t\t100% {\n\t\t\topacity: 1;\n\t\t}\n\t\t50% {\n\t\t\topacity: 0.5;\n\t\t}\n\t}\n\n\t@keyframes svelte-ilqnti-fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(4px);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}"};var ri=vr('<div class="success-view svelte-1ngze5u"><div class="success-content svelte-1ngze5u"><div class="success-icon svelte-1ngze5u">✓</div> <h3 class="svelte-1ngze5u">Published Successfully!</h3> <p class="text-secondary text-sm svelte-1ngze5u"> </p></div> <div class="stats svelte-1ngze5u"><div class="stat svelte-1ngze5u"><div class="stat-value svelte-1ngze5u"> </div> <div class="stat-label svelte-1ngze5u">Screens</div></div> <div class="stat svelte-1ngze5u"><div class="stat-value svelte-1ngze5u"> </div> <div class="stat-label svelte-1ngze5u">Prototype Links</div></div> <div class="stat svelte-1ngze5u"><div class="stat-value svelte-1ngze5u"> </div> <div class="stat-label svelte-1ngze5u">Design Tokens</div></div></div> <div class="actions svelte-1ngze5u"><!> <!></div></div>');const si={hash:"svelte-1ngze5u",code:".success-view.svelte-1ngze5u {\n\t\tanimation: svelte-1ngze5u-fadeIn 200ms ease;}.success-content.svelte-1ngze5u {text-align:center;padding-top:24px;}.success-icon.svelte-1ngze5u {width:64px;height:64px;border-radius:50%;background:var(--success-light);color:var(--success);display:flex;align-items:center;justify-content:center;margin:0 auto 16px;font-size:32px;font-weight:700;}.success-content.svelte-1ngze5u h3:where(.svelte-1ngze5u) {font-size:18px;font-weight:600;}.text-secondary.svelte-1ngze5u {color:var(--text-secondary);}.text-sm.svelte-1ngze5u {font-size:12px;margin-top:4px;}.stats.svelte-1ngze5u {display:grid;grid-template-columns:repeat(3, 1fr);gap:8px;margin:16px 0;}.stat.svelte-1ngze5u {text-align:center;padding:10px;background:var(--accent);border-radius:var(--radius);}.stat-value.svelte-1ngze5u {font-size:20px;font-weight:600;color:var(--text);}.stat-label.svelte-1ngze5u {font-size:11px;color:var(--text-secondary);margin-top:2px;}.actions.svelte-1ngze5u {display:flex;flex-direction:column;gap:8px;margin-top:16px;}\n\n\t@keyframes svelte-1ngze5u-fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(4px);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}"};var ai=fr('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5m7-7l-7 7 7 7"></path></svg>'),ii=vr('<div class="section-title svelte-ote4ms">Account</div> <div class="card svelte-ote4ms"><div class="card-title svelte-ote4ms"> </div> <div class="card-meta svelte-ote4ms"> </div></div> <div class="logout-action svelte-ote4ms"><!></div>',1),oi=vr('<div class="settings-view svelte-ote4ms"><div class="settings-header svelte-ote4ms"><!> <span class="section-title svelte-ote4ms">Settings</span></div> <!> <!> <!> <div class="divider svelte-ote4ms"></div> <!></div>');const li={hash:"svelte-ote4ms",code:".settings-view.svelte-ote4ms {\n\t\tanimation: svelte-ote4ms-fadeIn 200ms ease;}.settings-header.svelte-ote4ms {display:flex;align-items:center;gap:8px;margin-bottom:12px;}.section-title.svelte-ote4ms {font-size:11px;font-weight:500;color:var(--text-muted);margin-bottom:8px;}.divider.svelte-ote4ms {height:1px;background:var(--border);margin:16px 0;}.card.svelte-ote4ms {border:1px solid var(--border);border-radius:var(--radius-lg);padding:14px;background:var(--bg);}.card-title.svelte-ote4ms {font-size:13px;font-weight:500;color:var(--text);}.card-meta.svelte-ote4ms {font-size:12px;color:var(--text-secondary);margin-top:2px;}.logout-action.svelte-ote4ms {margin-top:12px;}\n\n\t@keyframes svelte-ote4ms-fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(4px);\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t}"};function ci(e){const t=e-1;return t*t*t+1}function ui(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function di(e,{delay:t=0,duration:n=400,easing:r=ci,x:s=0,y:a=0,opacity:i=0}={}){const o=getComputedStyle(e),l=+o.opacity,c="none"===o.transform?"":o.transform,u=l*(1-i),[d,v]=ui(s),[p,f]=ui(a);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*d}${v}, ${(1-e)*p}${f});\n\t\t\topacity: ${l-u*t}`}}var vi=vr('<div><span class="toast-icon svelte-1kh4fkr"><!></span> <span class="toast-message svelte-1kh4fkr"> </span> <button class="toast-dismiss svelte-1kh4fkr">✕</button></div>'),pi=vr('<div class="toast-container svelte-1kh4fkr"></div>');const fi={hash:"svelte-1kh4fkr",code:".toast-container.svelte-1kh4fkr {position:fixed;top:8px;left:8px;right:8px;z-index:1000;display:flex;flex-direction:column;gap:6px;pointer-events:none;}.toast.svelte-1kh4fkr {display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:var(--radius);font-size:12px;font-weight:500;pointer-events:all;box-shadow:var(--shadow);border:1px solid transparent;}.toast-success.svelte-1kh4fkr {background:var(--success-light);border-color:var(--success);color:#065f46;}.toast-error.svelte-1kh4fkr {background:var(--error-light);border-color:var(--error);color:#991b1b;}.toast-warning.svelte-1kh4fkr {background:var(--warning-light);border-color:var(--warning);color:#92400e;}.toast-info.svelte-1kh4fkr {background:var(--accent);border-color:var(--border);color:var(--text);}[data-theme='dark'] .toast-success {color:var(--success);}[data-theme='dark'] .toast-error {color:var(--error);}[data-theme='dark'] .toast-warning {color:var(--warning);}[data-theme='dark'] .toast-info {color:var(--text);}.toast-icon.svelte-1kh4fkr {font-weight:700;flex-shrink:0;}.toast-message.svelte-1kh4fkr {flex:1;}.toast-dismiss.svelte-1kh4fkr {background:none;border:none;cursor:pointer;color:inherit;opacity:0.6;padding:0 2px;font-size:12px;}.toast-dismiss.svelte-1kh4fkr:hover {opacity:1;}"};function hi(e,t){Ye(t,!1),Lr(e,fi);const n=()=>ds(Ds,"$toasts",r),[r,s]=vs();ts();var a=gr(),i=Xt(a),o=e=>{var t=pi();zr(t,5,n,e=>e.id,(e,t)=>{var n=vi(),r=Qt(n),s=Qt(r),a=e=>{mr(e,hr("✓"))},i=e=>{var n=gr(),r=Xt(n),s=e=>{mr(e,hr("✕"))},a=e=>{var n=gr(),r=Xt(n),s=e=>{mr(e,hr("⚠"))},a=e=>{mr(e,hr("ℹ"))};qr(r,e=>{"warning"===Zn(t).type?e(s):e(a,!1)},!0),mr(e,n)};qr(r,e=>{"error"===Zn(t).type?e(s):e(a,!1)},!0),mr(e,n)};qr(s,e=>{"success"===Zn(t).type?e(a):e(i,!1)});var o=en(r,2),l=Qt(o),c=en(o,2);hn(()=>{var e;Fr(n,0,`toast toast-${null!=(e=Zn(t).type)?e:""}`,"svelte-1kh4fkr"),wr(l,Zn(t).message)}),or("click",c,()=>Vs(Zn(t).id)),function(e,t,n,r){var s,a,i,o,l,c=!!(4&e),u=t.inert,d=t.style.overflow;function v(){return nn(()=>{var e;return null!=i?i:i=n()(t,null!=(e=null==r?void 0:r())?e:{},{direction:"both"})})}var p={is_global:c,in(){t.inert=u,o=Wr(t,v(),l,1,()=>{Cr(t,"introend"),null==o||o.abort(),o=i=void 0,t.style.overflow=d})},out(e){t.inert=!0,l=Wr(t,v(),o,0,()=>{Cr(t,"outroend"),null==e||e()})},stop:()=>{null==o||o.abort(),null==l||l.abort()}},f=Tn;if((null!=(a=(s=f.nodes).t)?a:s.t=[]).push(p),br){var h=c;if(!h){for(var g=f.parent;g&&0!==(g.f&je);)for(;(g=g.parent)&&0===(g.f&ge););h=!g||0!==(g.f&_e)}h&&dn(()=>{er(()=>p.in())})}}(3,n,()=>di,()=>({y:-20,duration:200})),mr(e,n)}),mr(e,t)};qr(i,e=>{n().length>0&&e(o)}),mr(e,a),He(),s()}var gi=fr('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path></svg>'),mi=vr('<div class="footer svelte-db2r4i"><!></div>'),bi=vr('<div id="app-root" class="svelte-db2r4i"><div class="header svelte-db2r4i"><div class="header-title svelte-db2r4i"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" width="20" height="20" class="svelte-db2r4i"><path d="M3 7l6-4 6 4 6-4v14l-6 4-6-4-6 4z"></path><path d="M9 3v14"></path><path d="M15 7v14"></path></svg> Flow</div> <div class="header-actions svelte-db2r4i"><!></div></div> <div class="content svelte-db2r4i"><!></div> <!> <!></div>');const wi={hash:"svelte-db2r4i",code:"#app-root.svelte-db2r4i {display:flex;flex-direction:column;height:100vh;}.header.svelte-db2r4i {display:flex;align-items:center;justify-content:space-between;padding:10px 16px;border-bottom:1px solid var(--border);background:var(--bg);flex-shrink:0;-webkit-app-region:drag;}.header-title.svelte-db2r4i {font-size:14px;font-weight:600;letter-spacing:-0.2px;color:var(--text);display:flex;align-items:center;gap:8px;}.header-title.svelte-db2r4i svg:where(.svelte-db2r4i) {opacity:0.7;}.header-actions.svelte-db2r4i {display:flex;align-items:center;gap:4px;-webkit-app-region:no-drag;}.content.svelte-db2r4i {flex:1;overflow-y:auto;padding:16px;}.footer.svelte-db2r4i {flex-shrink:0;padding:12px 16px;border-top:1px solid var(--border);background:var(--bg);}"};var xi,yi;xi=function(e,t){Ye(t,!1),Lr(e,wi);const n=()=>ds(ks,"$currentView",a),r=()=>ds(Ss,"$selectedArtboardIds",a),s=()=>ds(_s,"$appState",a),[a,i]=vs();let o=[];var l;fs(()=>{window.__onPluginMessage=function(e){const{type:t,payload:n}=e,r=hs.get(t);r&&r.forEach(e=>e(n))},ms("artboardData",e=>{const t=e.artboardId,n=bs.get(t);n&&(clearTimeout(n.timer),n.resolve(e),bs.delete(t))}),ms("artboardDataError",e=>{const t=e.artboardId,n=bs.get(t);n&&(clearTimeout(n.timer),n.reject(new Error(e.message)),bs.delete(t))}),ms("artboardImage",e=>{const t=e.artboardId,n=ws.get(t);n&&(clearTimeout(n.timer),n.resolve(e.imageBase64),ws.delete(t))}),ms("artboardImageError",e=>{const t=e.artboardId,n=ws.get(t);n&&(clearTimeout(n.timer),n.reject(new Error(e.message)),ws.delete(t))}),function(){const e=window.matchMedia("(prefers-color-scheme: dark)");function t(e){const t=e?"dark":"light";ys.set(t),document.documentElement.setAttribute("data-theme",t)}t(e.matches),e.addEventListener("change",e=>t(e.matches))}(),o.push(ms("init",e=>{var t,n;t=e.settings,n=e.initialView,js({serverUrl:t.serverUrl||"",authToken:t.authToken||"",userEmail:t.userEmail||"",userName:t.userName||"",lastProjectId:t.lastProjectId||""}),t.serverUrl&&t.authToken?$s("settings"===n?"settings":"projects"):(t.serverUrl,$s("settings"===n?"settings":"connect"))})),o.push(ms("navigate",e=>{$s(e.view)})),o.push(ms("settingsSaved",e=>{js({serverUrl:e.serverUrl})})),o.push(ms("authSaved",e=>{js({userEmail:e.email,userName:e.name})})),o.push(ms("loggedOut",()=>{js({authToken:"",userEmail:"",userName:""}),$s("connect")})),o.push(ms("documentData",e=>{js({documentData:e})}))}),l=()=>{o.forEach(e=>e()),Os()},null===Re&&Oe(),fs(()=>()=>er(l));let c=null;async function u(e=!1){var t,n,r;const s=ls(_s);if(!s.selectedProjectId||!s.documentData)return;const a=ls(Ss);if(0===a.size)return void Fs("Please select at least one artboard to publish.","warning");const i=[];s.documentData.pages.forEach(e=>{e.artboards.forEach(t=>{a.has(t.id)&&i.push({...t,pageName:e.name,status:"queued"})})}),c=new AbortController,e||Cs(),Us({isPublishing:!0,queue:i,step:"creating",percent:0,detail:e?"Resuming…":"Creating version…",error:null,cancelled:!1}),$s("progress"),Us({startTime:Date.now()}),Os(),As=setInterval(()=>{Ts.update(e=>{const t=Math.floor((Date.now()-e.startTime)/1e3),n=Math.floor(t/60),r=t%60;return{...e,elapsed:n>0?`${n}m ${r}s`:`${r}s`}})},1e3);try{let o=ls(Ts).versionId,l=new Set;const u=s.selectedVersionId;if(u&&!e){o=u,Us({versionId:o,detail:"Using selected version…"});const e=await Bs(s.serverUrl,s.selectedProjectId,o);l=new Set(e.filter(e=>!a.has(e))),Us({uploadedIds:l})}else if(e&&o){Us({detail:"Checking previously uploaded screens…"});const e=await Bs(s.serverUrl,s.selectedProjectId,o);l=new Set(e),Us({uploadedIds:l})}else{Us({step:"creating",detail:"Creating version…"});const e=await async function(e,t){const n=await Rs(`${e}/projects/${t}/versions`,{method:"POST"});if(!n.ok)throw new Error("Failed to create version");return(await n.json()).version}(s.serverUrl,s.selectedProjectId);o=e.id,Us({versionId:o})}Us({step:"screens"});const d=i.filter(e=>!l.has(e.id));let v=i.length-d.length,f=0;i.forEach(e=>{l.has(e.id)&&Ns(e.id,"done")});const h=new p(3),g=d.map(e=>h.acquire().then(async t=>{if(null==c?void 0:c.signal.aborted)t();else try{Ns(e.id,"extracting"),Us({detail:`Extracting: ${e.name}`,percent:Math.round(v/i.length*85)+5});const n=await function(e,t=6e4){return new Promise((n,r)=>{const s=bs.get(e);s&&(clearTimeout(s.timer),s.reject(new Error("Superseded by new request")));const a=setTimeout(()=>{bs.delete(e),r(new Error(`Artboard data extraction timed out for "${e}"`))},t);bs.set(e,{resolve:n,reject:r,timer:a}),gs("extractArtboardData",e)})}(e.id);if(null==c?void 0:c.signal.aborted)return void t();Ns(e.id,"exporting"),Us({detail:`Exporting: ${e.name}`});const r=await async function(e,t,n=3){let r;for(let a=1;a<=n;a++)try{return await xs(e)}catch(s){r=s,a<n&&await new Promise(e=>setTimeout(e,1e3))}throw r}(e.id,e.name);if(null==c?void 0:c.signal.aborted)return void t();Ns(e.id,"uploading"),Us({detail:`Uploading: ${e.name}`}),await async function(e,t,n,r){const s=r.imageBase64.replace(/^data:image\/\w+;base64,/,""),a=atob(s),i=new Uint8Array(a.length);for(let d=0;d<a.length;d++)i[d]=a.charCodeAt(d);const o=new Blob([i],{type:"image/png"}),l={name:r.name,sketchId:r.sketchId,pageName:r.pageName,width:r.width,height:r.height,layers:r.layers,flows:r.flows,displayOrder:r.displayOrder,isFlowHome:r.isFlowHome||!1},c=new FormData;c.append("image",o,`${r.sketchId}.png`),c.append("meta",JSON.stringify(l));const u=await Rs(`${e}/projects/${t}/versions/${n}/screens`,{method:"POST",headers:{},body:c});if(!u.ok){const e=await u.json().catch(()=>({error:`${u.status}`}));throw new Error(`Failed to upload "${r.name}": ${e.error||u.status}`)}}(s.serverUrl,s.selectedProjectId,o,{name:e.name,sketchId:e.id,pageName:e.pageName,width:e.width,height:e.height,imageBase64:r,layers:n.layers,flows:n.flows,displayOrder:e.displayOrder,isFlowHome:e.isFlowHome||!1}),Ns(e.id,"done"),v++,f+=(n.flows||[]).length,Us({stats:{screens:v,flows:f,tokens:ls(Ts).stats.tokens},percent:Math.round(v/i.length*85)+5,detail:`Uploaded ${v}/${i.length}: ${e.name}`})}catch(n){throw Ns(e.id,"failed",n.message),n}finally{t()}}));if(await Promise.all(g),null==c?void 0:c.signal.aborted)return;if(Us({step:"tokens",percent:92,detail:"Uploading design tokens…"}),s.documentData.designTokens){const e=s.documentData.designTokens,a=((null==(t=e.colors)?void 0:t.length)||0)+((null==(n=e.textStyles)?void 0:n.length)||0)+((null==(r=e.layerStyles)?void 0:r.length)||0);Us({stats:{...ls(Ts).stats,tokens:a}}),await async function(e,t,n,r){(await Rs(`${e}/projects/${t}/versions/${n}/tokens`,{method:"POST",body:JSON.stringify(r)})).ok||console.warn("[api] Token upload failed, continuing…")}(s.serverUrl,s.selectedProjectId,o,e)}if(null==c?void 0:c.signal.aborted)return;Us({step:"finalizing",percent:97,detail:"Finalizing…"}),await async function(e,t,n){await Rs(`${e}/projects/${t}/versions/${n}/complete`,{method:"PUT"})}(s.serverUrl,s.selectedProjectId,o),Us({step:"done",percent:100,detail:"Done!",isPublishing:!1}),Os(),gs("publishComplete"),gs("showMessage",`✅ Published ${v} screens with ${f} prototype links!`),setTimeout(()=>$s("success"),400)}catch(o){if(null==c?void 0:c.signal.aborted)return;Os(),Us({step:"failed",error:o.message||"Publish failed.",isPublishing:!1})}}function d(){u(!0)}function v(){c&&c.abort(),Os(),Us({cancelled:!0,isPublishing:!1}),Cs(),$s("publish")}class p{constructor(e){J(this,"queue",[]),J(this,"active",0),J(this,"limit"),this.limit=e}acquire(){return new Promise(e=>{const t=()=>{this.active<this.limit?(this.active++,e(()=>{this.active--,this.queue.length>0&&this.queue.shift()()})):this.queue.push(t)};t()})}}ts();var f=bi(),h=Qt(f),g=en(Qt(h),2),m=Qt(g),b=e=>{Gs(e,{variant:"ghost",size:"icon",$$events:{click:()=>$s("settings")},children:(e,t)=>{mr(e,gi())},$$slots:{default:!0}})};qr(m,e=>{"settings"!==n()&&"progress"!==n()&&e(b)});var w=en(h,2),x=Qt(w),y=e=>{da(e,{})},k=e=>{var t=gr(),r=Xt(t),s=e=>{$a(e,{})},a=e=>{var t=gr(),r=Xt(t),s=e=>{Wa(e,{})},a=e=>{var t=gr(),r=Xt(t),s=e=>{!function(e,t){Ye(t,!1),Lr(e,ni);const n=()=>ds(Ws,"$publishProgress",r),[r,s]=vs(),a=At(),i=At();let o=ps(t,"onResume",8,()=>{}),l=ps(t,"onCancel",8,()=>{});function c(e){switch(e){case"done":return"✓";case"failed":return"✕";case"extracting":case"exporting":case"uploading":return"⟳";default:return"○"}}function u(e){switch(e){case"done":return"done";case"failed":return"failed";case"extracting":case"exporting":case"uploading":return"active";default:return""}}vn(()=>n(),()=>{Ot(a,n())}),vn(()=>Zn(a),()=>{Ot(i,Zn(a).elapsed&&parseInt(Zn(a).elapsed)>8)}),pn();var d=ti(),v=Qt(d),p=e=>{var t=Ha(),n=Xt(t),r=en(Qt(n),4),s=Qt(r),i=en(n,2);Fa(i,{get percent(){return Zn(a),er(()=>Zn(a).percent)}});var d=en(i,2),v=Qt(d),p=Qt(v),f=Qt(en(v,2)),h=en(d,2),g=e=>{var t=Ya();zr(t,5,()=>(Zn(a),er(()=>Zn(a).queue)),e=>e.id,(e,t)=>{var n=Ba(),r=Qt(n),s=Qt(r),a=en(r,2),i=Qt(a),o=en(a,2),l=e=>{var n=Ra(),r=Qt(n);hn(()=>wr(r,(Zn(t),er(()=>Zn(t).error)))),mr(e,n)};qr(o,e=>{Zn(t),er(()=>"failed"===Zn(t).status&&Zn(t).error)&&e(l)}),hn((e,r)=>{Fr(n,0,`artboard-status ${null!=e?e:""}`,"svelte-ilqnti"),wr(s,r),wr(i,(Zn(t),er(()=>Zn(t).name)))},[()=>(Zn(t),er(()=>u(Zn(t).status))),()=>(Zn(t),er(()=>c(Zn(t).status)))]),mr(e,n)}),mr(e,t)};qr(h,e=>{Zn(a),er(()=>Zn(a).queue.length>0)&&e(g)});var m=Qt(en(h,2)),b=Qt(m),w=en(m,2);Gs(w,{variant:"primary",$$events:{click(...e){var t;null==(t=o())||t.apply(this,e)}},children:(e,t)=>{mr(e,hr("Resume Upload"))},$$slots:{default:!0}}),Gs(en(w,2),{variant:"secondary",size:"sm",$$events:{click(...e){var t;null==(t=l())||t.apply(this,e)}},children:(e,t)=>{mr(e,hr("Cancel & Discard"))},$$slots:{default:!0}}),hn(()=>{var e,t,n;wr(s,(Zn(a),er(()=>Zn(a).error))),wr(p,`${null!=(Zn(a),e=er(()=>Zn(a).percent))?e:""}%`),wr(f,(Zn(a),er(()=>Zn(a).elapsed))),wr(b,`${null!=(Zn(a),t=er(()=>Zn(a).stats.screens))?t:""} of ${null!=(Zn(a),n=er(()=>Zn(a).queue.length))?n:""} screens uploaded. You can resume from where\n\t\t\t\tit stopped.`)}),mr(e,t)},f=e=>{var t=ei(),n=Xt(t),r=en(Qt(n),4),s=Qt(r),o=en(n,2);Fa(o,{get percent(){return Zn(a),er(()=>Zn(a).percent)}});var d=en(o,2),v=Qt(d),p=Qt(v),f=Qt(en(v,2)),h=en(d,2);zr(h,4,()=>["creating","screens","tokens","finalizing"],$r,(e,t)=>{const n=St(()=>(Zn(a),er(()=>Zn(a).step===t))),r=St(()=>(Zn(a),er(()=>Va(Zn(a).step)>Va(t))));var s=Ka();let i;var o=Qt(s),l=Qt(o),c=e=>{mr(e,hr("✓"))},u=e=>{var t=gr(),r=Xt(t),s=e=>{mr(e,Ja())},a=e=>{mr(e,hr("○"))};qr(r,e=>{Zn(n)?e(s):e(a,!1)},!0),mr(e,t)};qr(l,e=>{Zn(r)?e(c):e(u,!1)});var d=en(o);hn(e=>{i=Fr(s,0,"progress-step svelte-ilqnti",null,i,{active:Zn(n),done:Zn(r)}),wr(d,` ${null!=e?e:""}`)},[()=>er(()=>function(e){switch(e){case"creating":return"Creating version…";case"screens":return"Uploading screens…";case"tokens":return"Uploading design tokens…";case"finalizing":return"Finalizing…";case"done":return"Done!";default:return e}}(t))]),mr(e,s)});var g=en(h,2),m=e=>{var t=Qa();zr(t,5,()=>(Zn(a),er(()=>Zn(a).queue)),e=>e.id,(e,t)=>{var n=Za(),r=Qt(n),s=Qt(r),a=e=>{mr(e,Ga())},i=e=>{var n=hr();hn(e=>wr(n,e),[()=>(Zn(t),er(()=>c(Zn(t).status)))]),mr(e,n)};qr(s,e=>{Zn(t),er(()=>"extracting"===Zn(t).status||"exporting"===Zn(t).status||"uploading"===Zn(t).status)?e(a):e(i,!1)});var o=en(r,2),l=Qt(o),d=Qt(en(o,2));hn(e=>{Fr(n,0,`artboard-status ${null!=e?e:""}`,"svelte-ilqnti"),wr(l,(Zn(t),er(()=>Zn(t).name))),wr(d,(Zn(t),er(()=>Zn(t).status)))},[()=>(Zn(t),er(()=>u(Zn(t).status)))]),mr(e,n)}),mr(e,t)};qr(g,e=>{Zn(a),er(()=>"screens"===Zn(a).step&&Zn(a).queue.length>0)&&e(m)});var b=en(g,2),w=e=>{mr(e,Xa())};qr(b,e=>{Zn(i)&&e(w)}),Gs(Qt(en(b,2)),{variant:"ghost",size:"sm",$$events:{click(...e){var t;null==(t=l())||t.apply(this,e)}},children:(e,t)=>{mr(e,hr("Cancel"))},$$slots:{default:!0}}),hn(()=>{var e;wr(s,(Zn(a),er(()=>Zn(a).detail))),wr(p,`${null!=(Zn(a),e=er(()=>Zn(a).percent))?e:""}%`),wr(f,(Zn(a),er(()=>Zn(a).elapsed)))}),mr(e,t)};qr(v,e=>{Zn(a),er(()=>Zn(a).error)?e(p):e(f,!1)}),mr(e,d),He(),s()}(e,{onResume:d,onCancel:v})},a=e=>{var t=gr(),r=Xt(t),s=e=>{!function(e,t){Ye(t,!1),Lr(e,si);const n=()=>ds(Ts,"$publishState",s),r=()=>ds(_s,"$appState",s),[s,a]=vs(),i=At(),o=At();vn(()=>n(),()=>{Ot(i,n().stats)}),vn(()=>r(),()=>{Ot(o,r().selectedProjectName)}),pn(),ts();var l=ri(),c=Qt(l),u=en(Qt(c),4),d=Qt(u),v=en(c,2),p=Qt(v),f=Qt(p),h=Qt(f),g=en(p,2),m=Qt(g),b=Qt(m),w=Qt(en(g,2)),x=Qt(w),y=Qt(en(v,2));Gs(y,{variant:"primary",block:!0,$$events:{click:function(){gs("openUrl",`${r().serverUrl}/projects/${r().selectedProjectId}`)}},children:(e,t)=>{mr(e,hr("Open in Browser"))},$$slots:{default:!0}}),Gs(en(y,2),{variant:"secondary",block:!0,$$events:{click:()=>$s("projects")},children:(e,t)=>{mr(e,hr("Back to Projects"))},$$slots:{default:!0}}),hn(()=>{var e;wr(d,`Version published to "${null!=(e=Zn(o))?e:""}"`),wr(h,(Zn(i),er(()=>Zn(i).screens))),wr(b,(Zn(i),er(()=>Zn(i).flows))),wr(x,(Zn(i),er(()=>Zn(i).tokens)))}),mr(e,l),He(),a()}(e,{})},a=e=>{var t=gr(),r=Xt(t),s=e=>{!function(e,t){Ye(t,!1),Lr(e,li);const n=()=>ds(_s,"$appState",r),[r,s]=vs(),a=At(),i=At(),o=At();let l=At(n().serverUrl),c=At(""),u=At("success");function d(){n().serverUrl&&n().authToken?$s("projects"):$s("connect")}function v(){const e=Zn(l).replace(/\/+$/,"");return e?Ys(e)?(js({serverUrl:e}),gs("saveServerUrl",e),Ot(c,"Settings saved."),Ot(u,"success"),void setTimeout(()=>Ot(c,""),2e3)):(Ot(c,"Please enter a valid URL (http:// or https://)."),void Ot(u,"error")):(Ot(c,"Please enter a server URL."),void Ot(u,"error"))}function p(){zs(),Fs("Logged out successfully.","info"),$s("connect")}vn(()=>n(),()=>{Ot(a,!!n().authToken)}),vn(()=>n(),()=>{Ot(i,n().userEmail)}),vn(()=>n(),()=>{Ot(o,n().userName)}),pn(),ts();var f=oi();or("keydown",Bt,function(e){"Enter"===e.key&&v(),"Escape"===e.key&&d()});var h=Qt(f);Gs(Qt(h),{variant:"ghost",size:"sm",$$events:{click:d},children:(e,t)=>{mr(e,ai())},$$slots:{default:!0}});var g=en(h,2);{let e=St(()=>!!Zn(c));oa(g,{get type(){return Zn(u)},get message(){return Zn(c)},get show(){return Zn(e)}})}var m=en(g,2);sa(m,{label:"Server URL",type:"url",placeholder:"http://localhost:4400",get value(){return Zn(l)},set value(e){Ot(l,e)},$$legacy:!0});var b=en(m,2);Gs(b,{variant:"primary",block:!0,$$events:{click:v},children:(e,t)=>{mr(e,hr("Save"))},$$slots:{default:!0}});var w=en(b,4),x=e=>{var t=ii(),n=en(Xt(t),2),r=Qt(n),s=Qt(r),a=Qt(en(r,2));Gs(Qt(en(n,2)),{variant:"danger",size:"sm",block:!0,$$events:{click:p},children:(e,t)=>{mr(e,hr("Logout"))},$$slots:{default:!0}}),hn(()=>{wr(s,Zn(i)),wr(a,Zn(o)||"No name set")}),mr(e,t)};qr(w,e=>{Zn(a)&&e(x)}),mr(e,f),He(),s()}(e,{})};qr(r,e=>{"settings"===n()&&e(s)},!0),mr(e,t)};qr(r,e=>{"success"===n()?e(s):e(a,!1)},!0),mr(e,t)};qr(r,e=>{"progress"===n()?e(s):e(a,!1)},!0),mr(e,t)};qr(r,e=>{"publish"===n()?e(s):e(a,!1)},!0),mr(e,t)};qr(r,e=>{"projects"===n()?e(s):e(a,!1)},!0),mr(e,t)};qr(x,e=>{"connect"===n()?e(y):e(k,!1)});var q=en(w,2),$=e=>{const t=St(r),n=St(()=>s().alreadyUploadedIds),a=St(()=>s().selectedVersionId),i=St(()=>Zn(a)?[...Zn(t)].filter(e=>!Zn(n).has(e)).length:Zn(t).size),o=St(()=>Zn(a)?[...Zn(t)].filter(e=>Zn(n).has(e)).length:0);var l=mi(),c=Qt(l);{let e=St(()=>0===Zn(t).size);Gs(c,{variant:"primary",block:!0,get disabled(){return Zn(e)},$$events:{click:()=>u()},children:(e,n)=>{var r=gr(),s=Xt(r),l=e=>{var n=hr();hn(()=>{var e;return wr(n,`Publish (${null!=(e=Zn(t).size)?e:""} artboard${1!==Zn(t).size?"s":""})`)}),mr(e,n)},c=e=>{var t=gr(),n=Xt(t),r=e=>{var t=hr();hn(()=>{var e,n;return wr(t,`Publish (${null!=(e=Zn(i))?e:""} new, ${null!=(n=Zn(o))?n:""} overwrite)`)}),mr(e,t)},s=e=>{var t=gr(),n=Xt(t),r=e=>{var t=hr();hn(()=>{var e;return wr(t,`Publish (${null!=(e=Zn(o))?e:""} overwrite)`)}),mr(e,t)},s=e=>{var t=hr();hn(()=>{var e;return wr(t,`Publish (${null!=(e=Zn(i))?e:""} new screen${1!==Zn(i)?"s":""})`)}),mr(e,t)};qr(n,e=>{Zn(o)>0?e(r):e(s,!1)},!0),mr(e,t)};qr(n,e=>{Zn(o)>0&&Zn(i)>0?e(r):e(s,!1)},!0),mr(e,t)};qr(s,e=>{Zn(a)?e(c,!1):e(l)}),mr(e,r)},$$slots:{default:!0}})}mr(e,l)};qr(q,e=>{"publish"===n()&&e($)}),hi(en(q,2),{}),mr(e,f),He(),i()},yi={target:document.getElementById("app")},function(e,{target:t,anchor:n,props:r={},events:s,context:a,intro:i=!0}){!function(){if(void 0===Bt){Bt=window,Yt=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Ht=ie(t,"firstChild").get,Jt=ie(t,"nextSibling").get,de(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),de(n)&&(n.__t=void 0)}}();var o=new Set,l=e=>{for(var n=0;n<e.length;n++){var r=e[n];if(!o.has(r)){o.add(r);var s=sr(r);t.addEventListener(r,cr,{passive:s});var a=xr.get(r);void 0===a?(document.addEventListener(r,cr,{passive:s}),xr.set(r,1)):xr.set(r,a+1)}}};l(se(ar)),ir.add(l);var c=void 0,u=function(e){ft.ensure();const t=an(524352,e,!0);return(e={})=>new Promise(n=>{e.outro?kn(t,()=>{xn(t),n(void 0)}):(xn(t),n(void 0))})}(()=>{var u=null!=n?n:t.appendChild(Kt());return function(e,t,n){new qt(e,t,n)}(u,{pending:()=>{}},t=>{Ye({}),a&&(Re.c=a),s&&(r.$$events=s),br=i,c=e(t,r)||{},br=!0,He()}),()=>{var e;for(var r of o){t.removeEventListener(r,cr);var s=xr.get(r);0===--s?(document.removeEventListener(r,cr),xr.delete(r)):xr.set(r,s)}ir.delete(l),u!==n&&(null==(e=u.parentNode)||e.removeChild(u))}});yr.set(c,u)}(xi,yi);</script>
		<style rel="stylesheet" crossorigin>:root,[data-theme=light]{--primary: #18181b;--primary-hover: #27272a;--primary-light: #f4f4f5;--primary-foreground: #fafafa;--bg: #ffffff;--surface: #fafafa;--surface-hover: #f4f4f5;--text: #09090b;--text-secondary: #71717a;--text-muted: #a1a1aa;--border: #e4e4e7;--input: #e4e4e7;--ring: #d4d4d8;--success: #16a34a;--success-light: #dcfce7;--error: #dc2626;--error-light: #fee2e2;--warning: #d97706;--warning-light: #fef3c7;--info: #2563eb;--info-light: #dbeafe;--destructive: #dc2626;--destructive-foreground: #fafafa;--accent: #f4f4f5;--accent-foreground: #18181b;--radius: 8px;--radius-lg: 10px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .04);--shadow: 0 1px 3px rgba(0, 0, 0, .06), 0 1px 2px rgba(0, 0, 0, .04);--transition: .15s ease;--font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif}[data-theme=dark]{--primary: #fafafa;--primary-hover: #e4e4e7;--primary-light: #27272a;--primary-foreground: #18181b;--bg: #09090b;--surface: #18181b;--surface-hover: #27272a;--text: #fafafa;--text-secondary: #a1a1aa;--text-muted: #71717a;--border: #27272a;--input: #27272a;--ring: #3f3f46;--success: #22c55e;--success-light: #052e16;--error: #ef4444;--error-light: #450a0a;--warning: #eab308;--warning-light: #422006;--info: #3b82f6;--info-light: #172554;--destructive: #7f1d1d;--destructive-foreground: #fafafa;--accent: #27272a;--accent-foreground: #fafafa;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .3);--shadow: 0 1px 3px rgba(0, 0, 0, .4), 0 1px 2px rgba(0, 0, 0, .3)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{font-family:var(--font);font-size:13px;line-height:1.5;color:var(--text);background:var(--bg);height:100%;overflow:hidden;-webkit-font-smoothing:antialiased}#app{display:flex;flex-direction:column;height:100%}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:99px}::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}@keyframes spin{to{transform:rotate(360deg)}}@keyframes fadeIn{0%{opacity:0;transform:translateY(4px)}to{opacity:1;transform:translateY(0)}}@keyframes slideUp{0%{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}</style>
	</head>
	<body>
		<div id="app"></div>
	</body>
</html>
